(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Pj3g:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("fXoL"),r=n("oaey"),s=n("nYR2"),i=n("1G5W"),o=n("lJxs"),c=n("2Vo4"),l=n("EY2u");class u extends r.a{constructor(){super(),this.isLoading$=new c.a(!0),this.pageIndex$=new a.n,this.params=null}stopLoading(){return this.isLoading$.next(!1),l.a}goToPrevPage(){return this.pageIndex$.emit(),l.a}getItems(e){return this.isLoading$.next(!0),e.pipe(Object(s.a)(()=>this.isLoading$.next(!1)),Object(i.a)(this.destroyed),Object(o.a)(e=>(this.items=e.items,this.totalCount=e.total_count,e)))}}},iTRb:function(e,t,n){"use strict";n.r(t),n.d(t,"UnparsedDataModule",function(){return O});var a=n("PCNd"),r=n("tyNb"),s=n("Pj3g"),i=n("xlym"),o=n("1G5W"),c=n("fXoL"),l=n("ILvI"),u=n("o5fV");let d=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)}}),e})(),p=(()=>{class e extends u.a{constructor(){super()}getUnparsedData(e){return this.getItems(e,l.F)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Kb({token:e,factory:e.\u0275fac,providedIn:d}),e})();var b=n("jPNr"),m=n("1ReC"),f=n("ofXK"),g=n("rMZv");let h=(()=>{class e{transform(e,t){return t[e]||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Nb({name:"rawDataCategory",type:e,pure:!0}),e})();function v(e,t){if(1&e&&(c.Ub(0,"tr"),c.Ub(1,"td"),c.Hc(2),c.Tb(),c.Ub(3,"td"),c.Hc(4),c.Tb(),c.Ub(5,"td"),c.Hc(6),c.Tb(),c.Ub(7,"td"),c.Hc(8),c.Tb(),c.Ub(9,"td"),c.Hc(10),c.fc(11,"rawDataCategory"),c.Tb(),c.Ub(12,"td"),c.Hc(13),c.Tb(),c.Tb()),2&e){const e=t.$implicit,n=c.ec();c.Ab(2),c.Ic(e.User3),c.Ab(2),c.Ic(e.User2),c.Ab(2),c.Ic(e.Time_det),c.Ab(2),c.Ic(e.Time_rec),c.Ab(2),c.Ic(c.hc(11,6,e.category,n.categories)),c.Ab(3),c.Ic(e.User)}}const y=[{path:"",component:(()=>{class e extends s.a{constructor(e){super(),this.unparsedDataService=e,this.categories=Object.assign(Object.assign({},i.a),{alert:"Alert"}),this.displayColumns=[{name:"Device ID",filterKey:"device_id",customFilter:"search",filter:!0,visible:!1},{name:"Device serial number",filterKey:"serial_number",customFilter:"search",filter:!0,visible:!1},{name:"Measurement date"},{name:"Received date"},{name:"Category",filterMultiple:!1,filterKey:"category",listOfFilter:[...Object.entries(this.categories).map(e=>({text:e[1],value:e[0]}))],pipe:"deviceType",filter:!0,visible:!1},{name:"Customer ID"}]}getUnparsedData(e=this.params){return this.getItems(this.unparsedDataService.getUnparsedData(e)).pipe(Object(o.a)(this.destroyed))}onQueryParamsChange(e){this.params=e,this.getUnparsedData().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Ob(p))},e.\u0275cmp=c.Ib({type:e,selectors:[["app-unparsed-data"]],features:[c.xb],decls:4,vars:5,consts:[[1,"panel"],["nzTitle","Unparsed data",1,"page-header"],[3,"data","displayColumns","totalCount","isLoading$","queryParamsChange"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Pb(1,"nz-page-header",1),c.Ub(2,"app-table-wrapper",2),c.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e)}),c.Fc(3,v,14,9,"tr",3),c.Tb(),c.Tb()),2&e&&(c.Ab(2),c.mc("data",t.items)("displayColumns",t.displayColumns)("totalCount",t.totalCount)("isLoading$",t.isLoading$.asObservable()),c.Ab(1),c.mc("ngForOf",t.items))},directives:[b.a,m.a,f.n,g.i,g.b],pipes:[h],encapsulation:2}),e})()}];let C=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[r.h.forChild(y)],r.h]}),e})(),O=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},imports:[[a.a,C,d]]}),e})()},o5fV:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("mrSG"),r=n("sbGu"),s=n("dEAy"),i=n("CvgI"),o=n("tk/3"),c=n("lJxs"),l=n("pLZG"),u=n("fXoL");let d=(()=>{class e{constructor(e){this.modal=e,this.modal.updateConfig({nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzAutofocus:null,nzOkType:"danger",nzOkText:"Delete",nzClosable:!1})}}return e.\u0275fac=function(t){return new(t||e)(u.Ob(s.c))},e.\u0275cmp=u.Ib({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();class p{constructor(){const e=r.a.getInjector;this.http=e.get(o.c),this.modalService=e.get(s.d)}getItems(e,t,n){const a=Object(i.a)(e),r=Object.assign({params:a},n);return this.http.get(t,Object.assign({},r)).pipe(Object(c.a)(e=>e))}openModal(e,t=null,n,a=!0,r=600){return this.modalService.create(Object.assign(Object.assign({},a&&{nzWrapClassName:"vertical-center-modal"}),{nzTitle:e,nzWidth:r+"px",nzContent:n,nzComponentParams:Object.assign({},t)})).afterClose.pipe(Object(l.a)(e=>e))}openActionConfirmationModal(e,t){return this.modalService.confirm({nzContent:t,nzTitle:e,nzOnOk:()=>!0}).afterClose.pipe(Object(l.a)(e=>e))}deleteItem(e,t){return this.modalService.confirm({nzContent:d,nzTitle:e,nzOnOk:e=>Object(a.a)(this,void 0,void 0,function*(){return e.modal.config.nzOkLoading=!0,yield this.deleteItemRequest(t)})}).afterClose.pipe(Object(l.a)(e=>e))}deleteItemRequest(e){return Object(a.a)(this,void 0,void 0,function*(){return yield this.http.delete(e).toPromise().then(e=>"success"===e.status)})}}}}]);