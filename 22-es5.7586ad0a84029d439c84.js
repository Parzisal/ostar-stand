!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Pj3g:function(e,t,r){"use strict";r.d(t,"a",function(){return b});var o=r("fXoL"),u=r("oaey"),s=r("nYR2"),f=r("1G5W"),l=r("lJxs"),p=r("2Vo4"),d=r("EY2u"),b=function(e){i(r,e);var t=c(r);function r(){var e;return n(this,r),(e=t.call(this)).isLoading$=new p.a(!0),e.pageIndex$=new o.n,e.params=null,e}return a(r,[{key:"stopLoading",value:function(){return this.isLoading$.next(!1),d.a}},{key:"goToPrevPage",value:function(){return this.pageIndex$.emit(),d.a}},{key:"getItems",value:function(e){var t=this;return this.isLoading$.next(!0),e.pipe(Object(s.a)(function(){return t.isLoading$.next(!1)}),Object(f.a)(this.destroyed),Object(l.a)(function(e){return t.items=e.items,t.totalCount=e.total_count,e}))}}]),r}(u.a)},iTRb:function(t,r,o){"use strict";o.r(r),o.d(r,"UnparsedDataModule",function(){return D});var u,s,f,l=o("PCNd"),p=o("tyNb"),d=o("Pj3g"),b=o("xlym"),m=o("1G5W"),h=o("fXoL"),y=o("ILvI"),v=o("o5fV"),g=((s=function e(){n(this,e)}).\u0275mod=h.Mb({type:s}),s.\u0275inj=h.Lb({factory:function(e){return new(e||s)}}),s),O=((u=function(e){i(r,e);var t=c(r);function r(){return n(this,r),t.call(this)}return a(r,[{key:"getUnparsedData",value:function(e){return this.getItems(e,y.F)}}]),r}(v.a)).\u0275fac=function(e){return new(e||u)},u.\u0275prov=h.Kb({token:u,factory:u.\u0275fac,providedIn:g}),u),j=o("jPNr"),C=o("1ReC"),w=o("ofXK"),I=o("rMZv"),k=((f=function(){function e(){n(this,e)}return a(e,[{key:"transform",value:function(e,t){return t[e]||null}}]),e}()).\u0275fac=function(e){return new(e||f)},f.\u0275pipe=h.Nb({name:"rawDataCategory",type:f,pure:!0}),f);function T(e,t){if(1&e&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.Tb(),h.Ub(9,"td"),h.Hc(10),h.fc(11,"rawDataCategory"),h.Tb(),h.Ub(12,"td"),h.Hc(13),h.Tb(),h.Tb()),2&e){var n=t.$implicit,r=h.ec();h.Ab(2),h.Ic(n.User3),h.Ab(2),h.Ic(n.User2),h.Ab(2),h.Ic(n.Time_det),h.Ab(2),h.Ic(n.Time_rec),h.Ab(2),h.Ic(h.hc(11,6,n.category,r.categories)),h.Ab(3),h.Ic(n.User)}}var z,A,P,U=[{path:"",component:(z=function(t){i(o,t);var r=c(o);function o(t){var a;return n(this,o),(a=r.call(this)).unparsedDataService=t,a.categories=Object.assign(Object.assign({},b.a),{alert:"Alert"}),a.displayColumns=[{name:"Device ID",filterKey:"device_id",customFilter:"search",filter:!0,visible:!1},{name:"Device serial number",filterKey:"serial_number",customFilter:"search",filter:!0,visible:!1},{name:"Measurement date"},{name:"Received date"},{name:"Category",filterMultiple:!1,filterKey:"category",listOfFilter:e(Object.entries(a.categories).map(function(e){return{text:e[1],value:e[0]}})),pipe:"deviceType",filter:!0,visible:!1},{name:"Customer ID"}],a}return a(o,[{key:"getUnparsedData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params;return this.getItems(this.unparsedDataService.getUnparsedData(e)).pipe(Object(m.a)(this.destroyed))}},{key:"onQueryParamsChange",value:function(e){this.params=e,this.getUnparsedData().subscribe()}}]),o}(d.a),z.\u0275fac=function(e){return new(e||z)(h.Ob(O))},z.\u0275cmp=h.Ib({type:z,selectors:[["app-unparsed-data"]],features:[h.xb],decls:4,vars:5,consts:[[1,"panel"],["nzTitle","Unparsed data",1,"page-header"],[3,"data","displayColumns","totalCount","isLoading$","queryParamsChange"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(h.Ub(0,"div",0),h.Pb(1,"nz-page-header",1),h.Ub(2,"app-table-wrapper",2),h.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e)}),h.Fc(3,T,14,9,"tr",3),h.Tb(),h.Tb()),2&e&&(h.Ab(2),h.mc("data",t.items)("displayColumns",t.displayColumns)("totalCount",t.totalCount)("isLoading$",t.isLoading$.asObservable()),h.Ab(1),h.mc("ngForOf",t.items))},directives:[j.a,C.a,w.n,I.i,I.b],pipes:[k],encapsulation:2}),z)}],x=((P=function e(){n(this,e)}).\u0275mod=h.Mb({type:P}),P.\u0275inj=h.Lb({factory:function(e){return new(e||P)},imports:[[p.h.forChild(U)],p.h]}),P),D=((A=function e(){n(this,e)}).\u0275mod=h.Mb({type:A}),A.\u0275inj=h.Lb({factory:function(e){return new(e||A)},imports:[[l.a,x,g]]}),A)},o5fV:function(e,t,r){"use strict";r.d(t,"a",function(){return m});var i,o=r("mrSG"),c=r("sbGu"),u=r("dEAy"),s=r("CvgI"),f=r("tk/3"),l=r("lJxs"),p=r("pLZG"),d=r("fXoL"),b=((i=function e(t){n(this,e),this.modal=t,this.modal.updateConfig({nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzAutofocus:null,nzOkType:"danger",nzOkText:"Delete",nzClosable:!1})}).\u0275fac=function(e){return new(e||i)(d.Ob(u.c))},i.\u0275cmp=d.Ib({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),i),m=function(){function e(){n(this,e);var t=c.a.getInjector;this.http=t.get(f.c),this.modalService=t.get(u.d)}return a(e,[{key:"getItems",value:function(e,t,n){var r=Object(s.a)(e),a=Object.assign({params:r},n);return this.http.get(t,Object.assign({},a)).pipe(Object(l.a)(function(e){return e}))}},{key:"openModal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;return this.modalService.create(Object.assign(Object.assign({},r&&{nzWrapClassName:"vertical-center-modal"}),{nzTitle:e,nzWidth:a+"px",nzContent:n,nzComponentParams:Object.assign({},t)})).afterClose.pipe(Object(p.a)(function(e){return e}))}},{key:"openActionConfirmationModal",value:function(e,t){return this.modalService.confirm({nzContent:t,nzTitle:e,nzOnOk:function(){return!0}}).afterClose.pipe(Object(p.a)(function(e){return e}))}},{key:"deleteItem",value:function(e,t){var n=this;return this.modalService.confirm({nzContent:b,nzTitle:e,nzOnOk:function(e){return Object(o.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.modal.config.nzOkLoading=!0,n.next=3,this.deleteItemRequest(t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}))}}).afterClose.pipe(Object(p.a)(function(e){return e}))}},{key:"deleteItemRequest",value:function(e){return Object(o.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.delete(e).toPromise().then(function(e){return"success"===e.status});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))}}]),e}()}}])}();