(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{YFAD:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=function(t){return t.male="Male",t.female="Female",t}({})},bb81:function(t,e,n){"use strict";n.d(e,"a",function(){return H});var a=n("fXoL"),i=n("EY2u"),o=n("HDdC"),s=n("2Vo4"),c=n("1G5W"),l=n("vkgz"),r=n("/uUt"),d=n("Kj3r"),u=n("eIep"),p=n("nYR2"),b=n("JIr8"),m=n("pLZG"),g=n("oaey"),f=n("CvgI"),h=n("UXun"),v=n("lJxs"),T=n("ovFC"),C=n("tk/3");let _=(()=>{class t{constructor(t){this.http=t,this.options$=new s.a([]),this.totalCount$=new s.a(0),this.isLoadingMore$=new s.a(!1),this.isLoading$=new s.a(!0),this.filters={}}get optionsAsObservable$(){return this.options$.asObservable()}get options(){return this.options$.value}set options(t){this.options$.next([...t])}get totalCount(){return this.totalCount$.value}set totalCount(t){this.totalCount$.next(t)}get isLoadingMore(){return this.isLoadingMore$.value}set isLoadingMore(t){this.isLoadingMore$.next(t)}get isLoadingMoreAsObservable$(){return this.isLoadingMore$.pipe(Object(h.a)(1))}get isLoadingAsObservable$(){return this.isLoading$.pipe(Object(h.a)(1))}get isLoading(){return this.isLoading$.value}set isLoading(t){this.isLoading$.next(t)}loadMoreOptions(t,e){return this.options.length<this.totalCount?(this.isLoadingMore=!0,this.getOptionsRequest(t).pipe(Object(v.a)(t=>{this.totalCount=t.total_count;const n=e?t.items.map(t=>e(t)):t.items;this.options=[...this.options,...n]}),Object(p.a)(()=>this.isLoadingMore=!1))):i.a}getOptions(t,e){return this.getOptionsRequest(t).pipe(Object(v.a)(t=>{this.totalCount=t.total_count,this.options=e?t.items.map(t=>e(t)):t.items}),Object(p.a)(()=>this.isLoading=!1))}getOptionsRequest(t){const e=Object(f.a)(Object.assign({limit:15,offset:this.options.length},this.filters));return this.http.get(t,{params:e})}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(C.c))},t.\u0275prov=a.Kb({token:t,factory:t.\u0275fac,providedIn:T.a}),t})();var O=n("zAKX"),y=n("3Pt+"),z=n("vxfF"),w=n("ofXK"),U=n("qAZ0"),A=n("QlLE");function $(t,e){if(1&t&&a.Pb(0,"nz-option",7),2&t){const t=e.$implicit,n=a.ec();a.mc("nzValue",t.id)("nzLabel",t[n.labelKey])("nzDisabled",n.optionDisabled(t.id))}}function F(t,e){1&t&&(a.Ub(0,"nz-option",8),a.Ub(1,"div",9),a.Pb(2,"nz-spin"),a.Ub(3,"span",10),a.Hc(4,"Searching..."),a.Tb(),a.Tb(),a.Tb())}function P(t,e){1&t&&(a.Ub(0,"div",14),a.Pb(1,"nz-spin"),a.Ub(2,"span"),a.Hc(3,"Loading data..."),a.Tb(),a.Tb())}function I(t,e){if(1&t&&(a.Ub(0,"div",12),a.Fc(1,P,4,0,"div",13),a.fc(2,"async"),a.Tb()),2&t){const t=a.ec(2),e=a.uc(10);a.Ab(1),a.mc("ngIf",a.gc(2,2,t.isLoadingMore$))("ngIfElse",e)}}function D(t,e){if(1&t&&a.Fc(0,I,3,4,"div",11),2&t){const t=a.ec();a.mc("ngIf",!t.isSearching&&t.totalCount>15&&"tags"!==t.mode)}}function x(t,e){if(1&t&&(a.Ub(0,"div",15),a.Hc(1),a.Tb()),2&t){const t=a.ec();a.Ab(1),a.Kc("",t.options.length," of ",t.totalCount,"")}}function S(t,e){if(1&t&&a.Pb(0,"nz-empty",16),2&t){const t=a.ec();a.mc("nzNotFoundContent",t.noDataText)}}let H=(()=>{class t extends g.a{constructor(t){super(),this.selectService=t,this.labelKey="name",this.size="default",this.mode="default",this.filterName="name",this.canLoad=!0,this.loadOptions$=new o.a,this.valueChangedEvt=new a.n,this.searchChange$=new s.a(null)}get totalCount(){return this.selectService.totalCount}get options(){return this.selectService.options}onScrollToBottom(){this.selectService.loadMoreOptions(this.url,this.transformFunc).pipe(Object(c.a)(this.destroyed)).subscribe()}onSearch(t){(t||this.selectService.filters[this.filterName])&&(this.isSearching=!0,this.searchChange$.next(t))}onOpenChange(t){!t&&this.selectService.filters[this.filterName]&&(this.selectService.filters[this.filterName]=null,this.selectService.options=[],this.getOptions())}selectionValueChanged(t){t&&this.valueChangedEvt.emit(this.selectService.options.find(e=>e.id===t))}searchOptions(){return this.searchChange$.asObservable().pipe(Object(l.a)(t=>{this.selectService.options=[],this.selectService.filters[this.filterName]=t}),Object(r.a)(),Object(d.a)(500),Object(u.a)(()=>this.selectService.getOptions(this.url,this.transformFunc).pipe(Object(p.a)(()=>{this.isSearching=!1,this.disabled=!1}),Object(b.a)(()=>i.a))),Object(c.a)(this.destroyed))}getOptions(){this.selectService.getOptions(this.url,this.transformFunc).pipe(Object(c.a)(this.destroyed)).subscribe()}optionDisabled(t){return!(!this.disabledOptions||!this.disabledOptions.length)&&this.disabledOptions.map(t=>t.id).includes(t)}ngOnInit(){const t=this.control.value;t&&(this.selectService.filters.include=t),this.isLoading$=this.selectService.isLoadingAsObservable$,this.isLoadingMore$=this.selectService.isLoadingMoreAsObservable$,this.options$=this.selectService.optionsAsObservable$,this.canLoad&&this.searchOptions().subscribe(),this.loadOptions$.pipe(Object(l.a)(()=>{this.disabled=!0,this.selectService.isLoading=!0}),Object(c.a)(this.destroyed),Object(m.a)(t=>!!t),Object(u.a)(t=>(t.forEach(t=>this.selectService.filters[t.key]=t.value),this.canLoad=!0,this.searchOptions()))).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(_))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-select"]],inputs:{control:"control",url:"url",labelKey:"labelKey",size:"size",disabled:"disabled",placeholder:"placeholder",mode:"mode",maxTagCount:"maxTagCount",filterName:"filterName",canLoad:"canLoad",disabledOptions:"disabledOptions",noDataText:"noDataText",transformFunc:"transformFunc",loadOptions$:"loadOptions$"},outputs:{valueChangedEvt:"valueChangedEvt"},features:[a.zb([_]),a.xb],decls:13,vars:20,consts:[["nzAllowClear","","nzServerSearch","","nzShowSearch","",3,"nzSize","nzPlaceHolder","formControl","nzLoading","nzDisabled","nzMode","nzMaxTagCount","nzDropdownRender","nzShowArrow","nzNotFoundContent","nzOnSearch","nzOpenChange","ngModelChange","nzScrollToBottom"],[3,"itemSize","maxBufferPx"],[3,"nzValue","nzLabel","nzDisabled",4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["loadingMoreOptionsTpl",""],["totalCountTpl",""],["noDataTpl",""],[3,"nzValue","nzLabel","nzDisabled"],["nzDisabled","","nzCustomContent",""],[1,"searching-option"],[1,"searching-option__text"],["class","dropdown-footer",4,"ngIf"],[1,"dropdown-footer"],["class","dropdown-footer__spinner",4,"ngIf","ngIfElse"],[1,"dropdown-footer__spinner"],[1,"dropdown-footer__total"],["nzNotFoundImage","simple",3,"nzNotFoundContent"]],template:function(t,e){if(1&t&&(a.Ub(0,"nz-select",0),a.bc("nzOnSearch",function(t){return e.onSearch(t)})("nzOpenChange",function(t){return e.onOpenChange(t)})("ngModelChange",function(t){return e.selectionValueChanged(t)})("nzScrollToBottom",function(){return e.onScrollToBottom()}),a.fc(1,"async"),a.fc(2,"async"),a.Ub(3,"cdk-virtual-scroll-viewport",1),a.Fc(4,$,1,3,"nz-option",2),a.fc(5,"async"),a.Tb(),a.Fc(6,F,5,0,"nz-option",3),a.Fc(7,D,1,1,"ng-template",null,4,a.Gc),a.Tb(),a.Fc(9,x,2,2,"ng-template",null,5,a.Gc),a.Fc(11,S,1,1,"ng-template",null,6,a.Gc)),2&t){const t=a.uc(8),n=a.uc(12);a.mc("nzSize",e.size)("nzPlaceHolder",e.placeholder)("formControl",e.control)("nzLoading",e.canLoad&&a.gc(1,14,e.isLoading$))("nzDisabled",e.disabled||a.gc(2,16,e.isLoading$))("nzMode",e.mode)("nzMaxTagCount",e.maxTagCount)("nzDropdownRender",t)("nzShowArrow",!0)("nzNotFoundContent",n),a.Ab(3),a.mc("itemSize",32)("maxBufferPx",160),a.Ab(1),a.mc("ngForOf",a.gc(5,18,e.options$)),a.Ab(2),a.mc("ngIf",e.isSearching)}},directives:[O.d,y.n,y.f,z.b,z.a,w.n,w.o,O.a,U.a,A.b],pipes:[w.b],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ant-select-arrow{top:48%}.dropdown-footer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;align-items:center;justify-items:start;padding:4px 14px;color:#1890ff;border-top:1px solid #f0f0f0}.dropdown-footer__total[_ngcontent-%COMP%]{width:100%;grid-column:2/3;display:flex;justify-content:flex-end}.dropdown-footer__spinner[_ngcontent-%COMP%]{display:flex;align-items:center}.dropdown-footer__spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:18px}.dropdown-footer[_ngcontent-%COMP%]   nz-spin[_ngcontent-%COMP%]{margin-left:12px}.option[_ngcontent-%COMP%]{display:flex}.option[_ngcontent-%COMP%]   nz-spin[_ngcontent-%COMP%]{margin-left:.9em}.option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1890ff;margin-left:1.1em}.searching-option[_ngcontent-%COMP%]{display:flex;align-items:center}.searching-option[_ngcontent-%COMP%]   nz-spin[_ngcontent-%COMP%]{margin-left:.8em}.searching-option__text[_ngcontent-%COMP%]{margin-left:1.2em}"],changeDetection:0}),t})()},qjHY:function(t,e,n){"use strict";n.r(e),n.d(e,"ImportDataModule",function(){return Ce});var a=n("PCNd"),i=n("tyNb"),o=n("2Vo4"),s=n("fXoL"),c=n("nYR2"),l=n("lJxs");let r=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})();var d=n("tk/3");let u=(()=>{class t{constructor(t){this.http=t,this.importedResults$=new o.a(null),this.inProgress$=new o.a(null)}set importedResults(t){this.importedResults$.next(t)}uploadFile(t,e,n){n||this.inProgress$.next(!0);const a=new FormData;return a.set("csv",new Blob([e],{type:"text/csv"}),e.name),a.set("save",""+n),this.http.post(t,a).pipe(Object(c.a)(()=>{n||this.inProgress$.next(!1)}),Object(l.a)(t=>this.importedResults$.next(t)))}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(d.c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:r}),t})();var p=n("ILvI");let b=(()=>{class t extends u{constructor(t){super(t),this.title="Import patients",this.backRoute="patient-list",this.importDataType="patients"}upload(t,e,n=!1){return this.uploadFile(Object(p.x)(t),e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(d.c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:r}),t})(),m=(()=>{class t extends u{constructor(t){super(t),this.title="Import doctors",this.backRoute="doctor-list",this.importDataType="doctors"}upload(t,e,n=!1){return this.uploadFile(Object(p.h)(t),e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(d.c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:r}),t})(),g=(()=>{class t extends u{constructor(t){super(t),this.title="Import devices",this.backRoute="device-list",this.importDataType="devices"}upload(t,e,n=!1){return this.uploadFile(Object(p.e)(t),e,n)}}return t.\u0275fac=function(e){return new(e||t)(s.Yb(d.c))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:r}),t})();const f=new s.q("ImportDataService"),h={provide:f,useFactory:(t,e)=>{switch(t.snapshot.children[0].data.type){case"patient":return new b(e);case"doctor":return new m(e);case"device":return new g(e)}},deps:[i.a,d.c]};var v=n("mrSG"),T=n("oaey"),C=n("1G5W");let _=(()=>{let t=class extends T.a{constructor(t){super(),this.importDataService=t,this.uploadResults={},this.importDataService.importedResults$.pipe(Object(C.a)(this.destroyed)).subscribe(t=>{this.data=t,t||this.clearCurrentData()}),this.inProgress$=this.importDataService.inProgress$.asObservable()}clearCurrentData(){for(const t in this.uploadResults)Object.prototype.hasOwnProperty.call(this.uploadResults,t)&&this.uploadResults[t].next(null)}onDataChange(t,e){t.length&&this.uploadResults[e]&&this.uploadResults[e].next([...t])}};return t=Object(v.b)([Object(v.d)(0,Object(s.p)(f))],t),t})();var O=n("oyxB"),y=n("1ReC"),z=n("ofXK"),w=n("rMZv"),U=n("SKKP"),A=n("pu9d");let $=(()=>{class t{transform(t){return"object"==typeof t?t.join("; "):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Nb({name:"joinArray",type:t,pure:!0}),t})();function F(t,e){}function P(t,e){1&t&&s.Fc(0,F,0,0,"ng-template")}const I=function(t){return{tabTitle:"Valid",tabItemCount:t}};function D(t,e){if(1&t&&s.Fc(0,P,1,0,void 0,9),2&t){const t=s.ec(),e=s.uc(20);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,I,null==t.data||null==t.data.valid?null:t.data.valid.length))}}function x(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.Tb(),s.Ub(7,"td"),s.Hc(8),s.fc(9,"deviceType"),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(t.device_id),s.Ab(2),s.Ic(t.serial_number),s.Ab(2),s.Ic(t.sim_card_id),s.Ab(2),s.Ic(s.gc(9,4,t.device_type))}}function S(t,e){}function H(t,e){1&t&&s.Fc(0,S,0,0,"ng-template")}const k=function(t){return{tabTitle:"Skipped",tabItemCount:t}};function M(t,e){if(1&t&&s.Fc(0,H,1,0,void 0,9),2&t){const t=s.ec(),e=s.uc(20);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,k,null==t.data?null:t.data.skipped.length))}}function L(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.Tb(),s.Ub(7,"td"),s.Hc(8),s.fc(9,"deviceType"),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(t.device_id),s.Ab(2),s.Ic(t.serial_number),s.Ab(2),s.Ic(t.sim_card_id),s.Ab(2),s.Ic(s.gc(9,4,t.device_type))}}function j(t,e){}function R(t,e){1&t&&s.Fc(0,j,0,0,"ng-template")}const N=function(t){return{tabTitle:"Errors",tabItemCount:t}};function G(t,e){if(1&t&&s.Fc(0,R,1,0,void 0,9),2&t){const t=s.ec(),e=s.uc(20);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,N,null==t.data?null:t.data.errors.length))}}function E(t,e){if(1&t&&(s.Ub(0,"div"),s.Hc(1),s.Ub(2,"span"),s.Hc(3),s.fc(4,"joinArray"),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(1),s.Jc(" ",t.key,": "),s.Ab(2),s.Ic(s.gc(4,2,t.value))}}function Q(t,e){if(1&t&&(s.Ub(0,"td"),s.Hc(1),s.Tb()),2&t){const t=e.$implicit,n=s.ec().$implicit;s.Ab(1),s.Ic(n[t.name])}}function K(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Fc(2,E,5,4,"div",4),s.fc(3,"keyvalue"),s.Tb(),s.Ub(4,"td"),s.Hc(5),s.Tb(),s.Fc(6,Q,2,1,"td",4),s.Tb()),2&t){const t=e.$implicit,n=s.ec();s.Ab(2),s.mc("ngForOf",s.gc(3,3,t.errors)),s.Ab(3),s.Ic(t.row_number),s.Ab(1),s.mc("ngForOf",n.errorsCsvDisplayColumns)}}const B=function(t){return[8,t]};function V(t,e){if(1&t&&(s.Ub(0,"nz-badge",10),s.Ub(1,"span"),s.Hc(2),s.Tb(),s.Tb()),2&t){const t=e.tabTitle;s.mc("nzCount",e.tabItemCount)("nzOverflowCount",999)("nzOffset",s.pc(4,B,-6)),s.Ab(2),s.Ic(t)}}let Y=(()=>{class t extends _{constructor(t){super(t),this.deviceDisplayColumns=[{name:"Device type"},{name:"Device ID"},{name:"Serial number"},{name:"SIM card ID"}],this.errorsDisplayColumns=[{name:"Errors"},{name:"Row number"}],this.errorsCsvDisplayColumns=[{name:"Device type"},{name:"Device ID"},{name:"Serial Number"},{name:"SIM card ID"},{name:"SIM activation Date"},{name:"Test date"},{name:"Tracking number"},{name:"Ship date"},{name:"Carton weight"},{name:"Carton dimensions"}],this.uploadResults={valid$:new o.a(null),skipped$:new o.a(null),errors$:new o.a(null)},this.errorsDisplayColumns.push(...this.errorsCsvDisplayColumns)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(f))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-imported-devices"]],features:[s.xb],decls:21,vars:30,consts:[["nzSize","large"],[3,"nzTitle"],["ubploadedTabTitleTpl",""],[3,"totalCount","allowQueryParams","frontPagination","data","isLoading$","displayColumns","dataChange"],[4,"ngFor","ngForOf"],["skippedTabTitleTpl",""],[3,"totalCount","data","allowQueryParams","frontPagination","isLoading$","displayColumns","dataChange"],["errorTabTitleTpl",""],["tabTitleContent",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzCount","nzOverflowCount","nzOffset"]],template:function(t,e){if(1&t&&(s.Ub(0,"nz-tabset",0),s.Ub(1,"nz-tab",1),s.Fc(2,D,1,4,"ng-template",null,2,s.Gc),s.Ub(4,"app-table-wrapper",3),s.bc("dataChange",function(t){return e.onDataChange(t,"valid$")}),s.Fc(5,x,10,6,"tr",4),s.fc(6,"async"),s.Tb(),s.Tb(),s.Ub(7,"nz-tab",1),s.Fc(8,M,1,4,"ng-template",null,5,s.Gc),s.Ub(10,"app-table-wrapper",6),s.bc("dataChange",function(t){return e.onDataChange(t,"skipped$")}),s.Fc(11,L,10,6,"tr",4),s.fc(12,"async"),s.Tb(),s.Tb(),s.Ub(13,"nz-tab",1),s.Fc(14,G,1,4,"ng-template",null,7,s.Gc),s.Ub(16,"app-table-wrapper",6),s.bc("dataChange",function(t){return e.onDataChange(t,"errors$")}),s.Fc(17,K,7,5,"tr",4),s.fc(18,"async"),s.Tb(),s.Tb(),s.Tb(),s.Fc(19,V,3,6,"ng-template",null,8,s.Gc)),2&t){const t=s.uc(3),n=s.uc(9),a=s.uc(15);s.Ab(1),s.mc("nzTitle",t),s.Ab(3),s.mc("totalCount",null==e.data||null==e.data.valid?null:e.data.valid.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==e.data?null:e.data.valid)("isLoading$",e.inProgress$)("displayColumns",e.deviceDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(6,24,e.uploadResults.valid$)),s.Ab(2),s.mc("nzTitle",n),s.Ab(3),s.mc("totalCount",null==e.data?null:e.data.skipped.length)("data",null==e.data?null:e.data.skipped)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",e.inProgress$)("displayColumns",e.deviceDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(12,26,e.uploadResults.skipped$)),s.Ab(2),s.mc("nzTitle",a),s.Ab(3),s.mc("totalCount",null==e.data?null:e.data.errors.length)("data",null==e.data?null:e.data.errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",e.inProgress$)("displayColumns",e.errorsDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(18,28,e.uploadResults.errors$))}},directives:[O.c,O.a,y.a,z.n,z.t,w.i,w.b,U.a],pipes:[z.b,A.a,z.i,$],encapsulation:2,changeDetection:0}),t})();function q(t,e){}function J(t,e){1&t&&s.Fc(0,q,0,0,"ng-template")}const X=function(t){return{tabTitle:"Valid",tabItemCount:t}};function Z(t,e){if(1&t&&s.Fc(0,J,1,0,void 0,9),2&t){const t=s.ec(),e=s.uc(20);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,X,null==t.data||null==t.data.valid?null:t.data.valid.length))}}function W(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.Tb(),s.Ub(7,"td"),s.Hc(8),s.Tb(),s.Ub(9,"td"),s.Hc(10),s.Tb(),s.Ub(11,"td"),s.Hc(12),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(t.npi),s.Ab(2),s.Ic(t.first_name),s.Ab(2),s.Ic(t.middle_name),s.Ab(2),s.Ic(t.last_name),s.Ab(2),s.Ic(t.email),s.Ab(2),s.Ic(t.phone)}}function tt(t,e){}function et(t,e){1&t&&s.Fc(0,tt,0,0,"ng-template")}const nt=function(t){return{tabTitle:"Skipped",tabItemCount:t}};function at(t,e){if(1&t&&s.Fc(0,et,1,0,void 0,9),2&t){const t=s.ec(),e=s.uc(20);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,nt,null==t.data?null:t.data.skipped.length))}}function it(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.Tb(),s.Ub(7,"td"),s.Hc(8),s.Tb(),s.Ub(9,"td"),s.Hc(10),s.Tb(),s.Ub(11,"td"),s.Hc(12),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(t.npi),s.Ab(2),s.Ic(t.first_name),s.Ab(2),s.Ic(t.middle_name),s.Ab(2),s.Ic(t.last_name),s.Ab(2),s.Ic(t.email),s.Ab(2),s.Ic(t.phone)}}function ot(t,e){}function st(t,e){1&t&&s.Fc(0,ot,0,0,"ng-template")}const ct=function(t){return{tabTitle:"Errors",tabItemCount:t}};function lt(t,e){if(1&t&&s.Fc(0,st,1,0,void 0,9),2&t){const t=s.ec(),e=s.uc(20);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,ct,null==t.data?null:t.data.errors.length))}}function rt(t,e){if(1&t&&(s.Ub(0,"div"),s.Hc(1),s.Ub(2,"span"),s.Hc(3),s.fc(4,"joinArray"),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(1),s.Jc(" ",t.key,": "),s.Ab(2),s.Ic(s.gc(4,2,t.value))}}function dt(t,e){if(1&t&&(s.Ub(0,"td"),s.Hc(1),s.Tb()),2&t){const t=e.$implicit,n=s.ec().$implicit;s.Ab(1),s.Ic(n[t.name])}}function ut(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Fc(2,rt,5,4,"div",4),s.fc(3,"keyvalue"),s.Tb(),s.Ub(4,"td"),s.Hc(5),s.Tb(),s.Fc(6,dt,2,1,"td",4),s.Tb()),2&t){const t=e.$implicit,n=s.ec();s.Ab(2),s.mc("ngForOf",s.gc(3,3,t.errors)),s.Ab(3),s.Ic(t.row_number),s.Ab(1),s.mc("ngForOf",n.errorsCsvDisplayColumns)}}const pt=function(t){return[8,t]};function bt(t,e){if(1&t&&(s.Ub(0,"nz-badge",10),s.Ub(1,"span"),s.Hc(2),s.Tb(),s.Tb()),2&t){const t=e.tabTitle;s.mc("nzCount",e.tabItemCount)("nzOverflowCount",999)("nzOffset",s.pc(4,pt,-6)),s.Ab(2),s.Ic(t)}}let mt=(()=>{class t extends _{constructor(t){super(t),this.doctorDisplayColumns=[{name:"NPI"},{name:"First name"},{name:"Middle name"},{name:"Last name"},{name:"Email"},{name:"Phone"}],this.errorsDisplayColumns=[{name:"Errors"},{name:"Row number"}],this.errorsCsvDisplayColumns=[{name:"NPI"},{name:"First Name"},{name:"Middle Name"},{name:"Last Name"},{name:"Email"},{name:"Phone"}],this.uploadResults={valid$:new o.a(null),skipped$:new o.a(null),errors$:new o.a(null)},this.errorsDisplayColumns.push(...this.errorsCsvDisplayColumns)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(f))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-imported-doctors"]],features:[s.xb],decls:21,vars:30,consts:[["nzSize","large"],[3,"nzTitle"],["ubploadedTabTitleTpl",""],[3,"totalCount","allowQueryParams","frontPagination","data","isLoading$","displayColumns","dataChange"],[4,"ngFor","ngForOf"],["skippedTabTitleTpl",""],[3,"totalCount","data","allowQueryParams","frontPagination","isLoading$","displayColumns","dataChange"],["errorTabTitleTpl",""],["tabTitleContent",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzCount","nzOverflowCount","nzOffset"]],template:function(t,e){if(1&t&&(s.Ub(0,"nz-tabset",0),s.Ub(1,"nz-tab",1),s.Fc(2,Z,1,4,"ng-template",null,2,s.Gc),s.Ub(4,"app-table-wrapper",3),s.bc("dataChange",function(t){return e.onDataChange(t,"valid$")}),s.Fc(5,W,13,6,"tr",4),s.fc(6,"async"),s.Tb(),s.Tb(),s.Ub(7,"nz-tab",1),s.Fc(8,at,1,4,"ng-template",null,5,s.Gc),s.Ub(10,"app-table-wrapper",6),s.bc("dataChange",function(t){return e.onDataChange(t,"skipped$")}),s.Fc(11,it,13,6,"tr",4),s.fc(12,"async"),s.Tb(),s.Tb(),s.Ub(13,"nz-tab",1),s.Fc(14,lt,1,4,"ng-template",null,7,s.Gc),s.Ub(16,"app-table-wrapper",6),s.bc("dataChange",function(t){return e.onDataChange(t,"errors$")}),s.Fc(17,ut,7,5,"tr",4),s.fc(18,"async"),s.Tb(),s.Tb(),s.Tb(),s.Fc(19,bt,3,6,"ng-template",null,8,s.Gc)),2&t){const t=s.uc(3),n=s.uc(9),a=s.uc(15);s.Ab(1),s.mc("nzTitle",t),s.Ab(3),s.mc("totalCount",null==e.data||null==e.data.valid?null:e.data.valid.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==e.data?null:e.data.valid)("isLoading$",e.inProgress$)("displayColumns",e.doctorDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(6,24,e.uploadResults.valid$)),s.Ab(2),s.mc("nzTitle",n),s.Ab(3),s.mc("totalCount",null==e.data?null:e.data.skipped.length)("data",null==e.data?null:e.data.skipped)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",e.inProgress$)("displayColumns",e.doctorDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(12,26,e.uploadResults.skipped$)),s.Ab(2),s.mc("nzTitle",a),s.Ab(3),s.mc("totalCount",null==e.data?null:e.data.errors.length)("data",null==e.data?null:e.data.errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",e.inProgress$)("displayColumns",e.errorsDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(18,28,e.uploadResults.errors$))}},directives:[O.c,O.a,y.a,z.n,z.t,w.i,w.b,U.a],pipes:[z.b,z.i,$],encapsulation:2,changeDetection:0}),t})();var gt=n("e5ZD");function ft(t,e){}function ht(t,e){1&t&&s.Fc(0,ft,0,0,"ng-template")}const vt=function(t){return{tabTitle:"Valid",tabItemCount:t}};function Tt(t,e){if(1&t&&s.Fc(0,ht,1,0,void 0,13),2&t){const t=s.ec(2),e=s.uc(6);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,vt,null==t.data||null==t.data.valid_patients?null:t.data.valid_patients.length))}}function Ct(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.Tb(),s.Ub(7,"td"),s.Hc(8),s.Tb(),s.Ub(9,"td"),s.Hc(10),s.fc(11,"date"),s.Tb(),s.Ub(12,"td"),s.Hc(13),s.fc(14,"sex"),s.Tb(),s.Ub(15,"td"),s.Hc(16),s.Tb(),s.Ub(17,"td"),s.Hc(18),s.Tb(),s.Ub(19,"td"),s.Hc(20),s.Tb(),s.Ub(21,"td"),s.Hc(22),s.Tb(),s.Ub(23,"td"),s.Hc(24),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(t.patient_id),s.Ab(2),s.Ic(t.first_name),s.Ab(2),s.Ic(t.middle_name),s.Ab(2),s.Ic(t.last_name),s.Ab(2),s.Ic(s.hc(11,13,t.birth_date,"mediumDate")),s.Ab(3),s.Ic(s.gc(14,16,t.sex)),s.Ab(3),s.Ic(t.email),s.Ab(2),s.Ic(t.phone),s.Ab(2),s.Ic(t.address),s.Ab(2),s.Lc("",null==t.doctor?null:t.doctor.first_name," ",null==t.doctor?null:t.doctor.last_name," - ",null==t.doctor?null:t.doctor.npi,""),s.Ab(2),s.Ic(t.notes)}}function _t(t,e){}function Ot(t,e){1&t&&s.Fc(0,_t,0,0,"ng-template")}const yt=function(t){return{tabTitle:"Skipped",tabItemCount:t}};function zt(t,e){if(1&t&&s.Fc(0,Ot,1,0,void 0,13),2&t){const t=s.ec(2),e=s.uc(6);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,yt,null==t.data||null==t.data.skipped_patients?null:t.data.skipped_patients.length))}}function wt(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.Tb(),s.Ub(7,"td"),s.Hc(8),s.Tb(),s.Ub(9,"td"),s.Hc(10),s.fc(11,"date"),s.Tb(),s.Ub(12,"td"),s.Hc(13),s.fc(14,"sex"),s.Tb(),s.Ub(15,"td"),s.Hc(16),s.Tb(),s.Ub(17,"td"),s.Hc(18),s.Tb(),s.Ub(19,"td"),s.Hc(20),s.Tb(),s.Ub(21,"td"),s.Hc(22),s.Tb(),s.Ub(23,"td"),s.Hc(24),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(t.patient_id),s.Ab(2),s.Ic(t.first_name),s.Ab(2),s.Ic(t.middle_name),s.Ab(2),s.Ic(t.last_name),s.Ab(2),s.Ic(s.hc(11,13,t.birth_date,"mediumDate")),s.Ab(3),s.Ic(s.gc(14,16,t.sex)),s.Ab(3),s.Ic(t.email),s.Ab(2),s.Ic(t.phone),s.Ab(2),s.Ic(t.address),s.Ab(2),s.Lc("",null==t.doctor?null:t.doctor.first_name," ",null==t.doctor?null:t.doctor.last_name," - ",null==t.doctor?null:t.doctor.npi,""),s.Ab(2),s.Ic(t.notes)}}function Ut(t,e){}function At(t,e){1&t&&s.Fc(0,Ut,0,0,"ng-template")}const $t=function(t){return{tabTitle:"Errors",tabItemCount:t}};function Ft(t,e){if(1&t&&s.Fc(0,At,1,0,void 0,13),2&t){const t=s.ec(2),e=s.uc(6);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,$t,null==t.data||null==t.data.patients_errors?null:t.data.patients_errors.length))}}function Pt(t,e){if(1&t&&(s.Ub(0,"div"),s.Hc(1),s.Ub(2,"span"),s.Hc(3),s.fc(4,"joinArray"),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(1),s.Jc(" ",t.key,": "),s.Ab(2),s.Ic(s.gc(4,2,t.value))}}function It(t,e){if(1&t&&(s.Ub(0,"td"),s.Hc(1),s.Tb()),2&t){const t=e.$implicit,n=s.ec().$implicit;s.Ab(1),s.Ic(n[t.name])}}function Dt(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Fc(2,Pt,5,4,"div",9),s.fc(3,"keyvalue"),s.Tb(),s.Ub(4,"td"),s.Hc(5),s.Tb(),s.Fc(6,It,2,1,"td",9),s.Tb()),2&t){const t=e.$implicit,n=s.ec(2);s.Ab(2),s.mc("ngForOf",s.gc(3,3,t.errors)),s.Ab(3),s.Ic(t.row_number),s.Ab(1),s.mc("ngForOf",n.errorsCsvDisplayColumns)}}function xt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"nz-tabset",5),s.Ub(1,"nz-tab",6),s.Fc(2,Tt,1,4,"ng-template",null,7,s.Gc),s.Ub(4,"app-table-wrapper",8),s.bc("dataChange",function(e){return s.vc(t),s.ec().onDataChange(e,"valid_patients$")}),s.Fc(5,Ct,25,18,"tr",9),s.fc(6,"async"),s.Tb(),s.Tb(),s.Ub(7,"nz-tab",6),s.Fc(8,zt,1,4,"ng-template",null,10,s.Gc),s.Ub(10,"app-table-wrapper",11),s.bc("dataChange",function(e){return s.vc(t),s.ec().onDataChange(e,"skipped_patients$")}),s.Fc(11,wt,25,18,"tr",9),s.fc(12,"async"),s.Tb(),s.Tb(),s.Ub(13,"nz-tab",6),s.Fc(14,Ft,1,4,"ng-template",null,12,s.Gc),s.Ub(16,"app-table-wrapper",11),s.bc("dataChange",function(e){return s.vc(t),s.ec().onDataChange(e,"patients_errors$")}),s.Fc(17,Dt,7,5,"tr",9),s.fc(18,"async"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.uc(3),e=s.uc(9),n=s.uc(15),a=s.ec();s.Ab(1),s.mc("nzTitle",t),s.Ab(3),s.mc("totalCount",null==a.data||null==a.data.valid_patients?null:a.data.valid_patients.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==a.data?null:a.data.valid_patients)("isLoading$",a.inProgress$)("displayColumns",a.patientsDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(6,24,a.uploadResults.valid_patients$)),s.Ab(2),s.mc("nzTitle",e),s.Ab(3),s.mc("totalCount",null==a.data||null==a.data.skipped_patients?null:a.data.skipped_patients.length)("data",null==a.data?null:a.data.skipped_patients)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",a.inProgress$)("displayColumns",a.patientsDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(12,26,a.uploadResults.skipped_patients$)),s.Ab(2),s.mc("nzTitle",n),s.Ab(3),s.mc("totalCount",null==a.data||null==a.data.patients_errors?null:a.data.patients_errors.length)("data",null==a.data?null:a.data.patients_errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",a.inProgress$)("displayColumns",a.errorsDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(18,28,a.uploadResults.patients_errors$))}}function St(t,e){}function Ht(t,e){1&t&&s.Fc(0,St,0,0,"ng-template")}function kt(t,e){if(1&t&&s.Fc(0,Ht,1,0,void 0,13),2&t){const t=s.ec(2),e=s.uc(6);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,vt,null==t.data||null==t.data.valid_orders?null:t.data.valid_orders.length))}}function Mt(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.fc(7,"deviceType"),s.Tb(),s.Ub(8,"td"),s.Hc(9),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(null==t.practice?null:t.practice.name),s.Ab(2),s.Lc("",t.patient.first_name," ",t.patient.middle_name," ",t.patient.last_name,""),s.Ab(2),s.Ic(s.gc(7,6,t.device_type)),s.Ab(3),s.Ic(t.address)}}function Lt(t,e){}function jt(t,e){1&t&&s.Fc(0,Lt,0,0,"ng-template")}function Rt(t,e){if(1&t&&s.Fc(0,jt,1,0,void 0,13),2&t){const t=s.ec(2),e=s.uc(6);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,yt,null==t.data||null==t.data.skipped_orders?null:t.data.skipped_orders.length))}}function Nt(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Hc(2),s.Tb(),s.Ub(3,"td"),s.Hc(4),s.Tb(),s.Ub(5,"td"),s.Hc(6),s.fc(7,"deviceType"),s.Tb(),s.Ub(8,"td"),s.Hc(9),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(2),s.Ic(null==t.practice?null:t.practice.name),s.Ab(2),s.Lc("",t.patient.first_name," ",t.patient.middle_name," ",t.patient.last_name,""),s.Ab(2),s.Ic(s.gc(7,6,t.device_type)),s.Ab(3),s.Ic(t.address)}}function Gt(t,e){}function Et(t,e){1&t&&s.Fc(0,Gt,0,0,"ng-template")}function Qt(t,e){if(1&t&&s.Fc(0,Et,1,0,void 0,13),2&t){const t=s.ec(2),e=s.uc(6);s.mc("ngTemplateOutlet",e)("ngTemplateOutletContext",s.pc(2,$t,null==t.data||null==t.data.orders_errors?null:t.data.orders_errors.length))}}function Kt(t,e){if(1&t&&(s.Ub(0,"div"),s.Hc(1),s.Ub(2,"span"),s.Hc(3),s.fc(4,"joinArray"),s.Tb(),s.Tb()),2&t){const t=e.$implicit;s.Ab(1),s.Jc(" ",t.key,": "),s.Ab(2),s.Ic(s.gc(4,2,t.value))}}function Bt(t,e){if(1&t&&(s.Ub(0,"td"),s.Hc(1),s.Tb()),2&t){const t=e.$implicit,n=s.ec().$implicit;s.Ab(1),s.Ic(n[t.name])}}function Vt(t,e){if(1&t&&(s.Ub(0,"tr"),s.Ub(1,"td"),s.Fc(2,Kt,5,4,"div",9),s.fc(3,"keyvalue"),s.Tb(),s.Ub(4,"td"),s.Hc(5),s.Tb(),s.Fc(6,Bt,2,1,"td",9),s.Tb()),2&t){const t=e.$implicit,n=s.ec(2);s.Ab(2),s.mc("ngForOf",s.gc(3,3,t.errors)),s.Ab(3),s.Ic(t.row_number),s.Ab(1),s.mc("ngForOf",n.errorsCsvDisplayColumns)}}function Yt(t,e){if(1&t){const t=s.Vb();s.Ub(0,"nz-tabset",5),s.Ub(1,"nz-tab",6),s.Fc(2,kt,1,4,"ng-template",null,7,s.Gc),s.Ub(4,"app-table-wrapper",8),s.bc("dataChange",function(e){return s.vc(t),s.ec().onDataChange(e,"valid_orders$")}),s.Fc(5,Mt,10,8,"tr",9),s.fc(6,"async"),s.Tb(),s.Tb(),s.Ub(7,"nz-tab",6),s.Fc(8,Rt,1,4,"ng-template",null,10,s.Gc),s.Ub(10,"app-table-wrapper",11),s.bc("dataChange",function(e){return s.vc(t),s.ec().onDataChange(e,"skipped_orders$")}),s.Fc(11,Nt,10,8,"tr",9),s.fc(12,"async"),s.Tb(),s.Tb(),s.Ub(13,"nz-tab",6),s.Fc(14,Qt,1,4,"ng-template",null,12,s.Gc),s.Ub(16,"app-table-wrapper",11),s.bc("dataChange",function(e){return s.vc(t),s.ec().onDataChange(e,"orders_errors$")}),s.Fc(17,Vt,7,5,"tr",9),s.fc(18,"async"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.uc(3),e=s.uc(9),n=s.uc(15),a=s.ec();s.Ab(1),s.mc("nzTitle",t),s.Ab(3),s.mc("totalCount",null==a.data||null==a.data.valid_orders?null:a.data.valid_orders.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==a.data?null:a.data.valid_orders)("isLoading$",a.inProgress$)("displayColumns",a.ordersDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(6,24,a.uploadResults.valid_orders$)),s.Ab(2),s.mc("nzTitle",e),s.Ab(3),s.mc("totalCount",null==a.data||null==a.data.skipped_orders?null:a.data.skipped_orders.length)("data",null==a.data?null:a.data.skipped_orders)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",a.inProgress$)("displayColumns",a.ordersDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(12,26,a.uploadResults.skipped_orders$)),s.Ab(2),s.mc("nzTitle",n),s.Ab(3),s.mc("totalCount",null==a.data||null==a.data.orders_errors?null:a.data.orders_errors.length)("data",null==a.data?null:a.data.orders_errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",a.inProgress$)("displayColumns",a.errorsDisplayColumns),s.Ab(1),s.mc("ngForOf",s.gc(18,28,a.uploadResults.errors$))}}const qt=function(t){return[8,t]};function Jt(t,e){if(1&t&&(s.Ub(0,"nz-badge",14),s.Ub(1,"span"),s.Hc(2),s.Tb(),s.Tb()),2&t){const t=e.tabTitle;s.mc("nzCount",e.tabItemCount)("nzOverflowCount",999)("nzOffset",s.pc(4,qt,-6)),s.Ab(2),s.Ic(t)}}let Xt=(()=>{class t extends _{constructor(t){super(t),this.patientsDisplayColumns=[{name:"Patient ID"},{name:"First name"},{name:"Middle name"},{name:"Last name"},{name:"Birthdate"},{name:"Sex"},{name:"Email"},{name:"Phone"},{name:"Address"},{name:"Doctor"},{name:"Notes"}],this.ordersDisplayColumns=[{name:"Practice"},{name:"Patient"},{name:"Device type"},{name:"Address"}],this.errorsDisplayColumns=[{name:"Errors"},{name:"Row number"}],this.errorsCsvDisplayColumns=[{name:"First Name"},{name:"Middle Name"},{name:"Last Name"},{name:"Birth Date"},{name:"Sex"},{name:"Phone"},{name:"E-Mail"},{name:"Address"},{name:"Doctor NPI"},{name:"Type of device"},{name:"Notes"}],this.uploadResults={valid_patients$:new o.a(null),skipped_patients$:new o.a(null),patients_errors$:new o.a(null),valid_orders$:new o.a(null),skipped_orders$:new o.a(null),orders_errors$:new o.a(null)},this.errorsDisplayColumns.push(...this.errorsCsvDisplayColumns)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(f))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-imported-patients"]],features:[s.xb],decls:7,vars:0,consts:[["nzSize","large",1,"main-tabset"],["nzTitle","Patients"],["nz-tab",""],["nzTitle","Orders"],["tabTitleContent",""],["nzSize","large"],[3,"nzTitle"],["ubploadedTabTitleTpl",""],[3,"totalCount","allowQueryParams","frontPagination","data","isLoading$","displayColumns","dataChange"],[4,"ngFor","ngForOf"],["skippedTabTitleTpl",""],[3,"totalCount","data","allowQueryParams","frontPagination","isLoading$","displayColumns","dataChange"],["errorTabTitleTpl",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzCount","nzOverflowCount","nzOffset"]],template:function(t,e){1&t&&(s.Ub(0,"nz-tabset",0),s.Ub(1,"nz-tab",1),s.Fc(2,xt,19,30,"ng-template",2),s.Tb(),s.Ub(3,"nz-tab",3),s.Fc(4,Yt,19,30,"ng-template",2),s.Tb(),s.Tb(),s.Fc(5,Jt,3,6,"ng-template",null,4,s.Gc))},directives:[O.c,O.a,O.b,y.a,z.n,z.t,w.i,w.b,U.a],pipes:[z.b,z.e,gt.a,z.i,$,A.a],styles:[".main-tabset[_ngcontent-%COMP%] >   .ant-tabs-bar{margin:0!important}"],changeDetection:0}),t})();var Zt=n("3Pt+"),Wt=n("bNXi"),te=n("jPNr"),ee=n("bb81"),ne=n("D9mS"),ae=n("OzZK"),ie=n("RwU8"),oe=n("C2AL"),se=n("5vDB"),ce=n("FwiY");function le(t,e){1&t&&(s.Sb(0),s.Ub(1,"p",16),s.Hc(2,"Click or drag file to this area to upload"),s.Tb(),s.Ub(3,"p",17),s.Hc(4,"Support for a single csv file upload only"),s.Tb(),s.Rb())}function re(t,e){1&t&&(s.Sb(0),s.Ub(1,"p",16),s.Hc(2,"Select a practice first"),s.Tb(),s.Rb())}function de(t,e){if(1&t&&(s.Ub(0,"div"),s.Ub(1,"p",14),s.Pb(2,"i",15),s.Tb(),s.Fc(3,le,5,0,"ng-container",8),s.Fc(4,re,3,0,"ng-container",8),s.Tb()),2&t){const t=s.ec();s.Ab(3),s.mc("ngIf",t.practiceControl.valid),s.Ab(1),s.mc("ngIf",!t.practiceControl.valid)}}function ue(t,e){if(1&t&&s.Pb(0,"i",26),2&t){const t=s.ec(3);s.mc("nzTwotoneColor",t.uploadStatuses.error?"#ff4d4f":"#1890ff")}}function pe(t,e){1&t&&s.Pb(0,"i",27)}const be=function(t){return{"uploader-preview__wrapper--error":t}};function me(t,e){if(1&t){const t=s.Vb();s.Sb(0),s.Ub(1,"div",18),s.Ub(2,"div",19),s.Ub(3,"div",20),s.Fc(4,ue,1,1,"i",21),s.Fc(5,pe,1,0,"i",22),s.fc(6,"async"),s.Ub(7,"span"),s.Hc(8),s.Tb(),s.Ub(9,"div",23),s.Ub(10,"button",24),s.bc("click",function(){return s.vc(t),s.ec(2).onRemoveClick()}),s.Pb(11,"i",25),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Rb()}if(2&t){const t=s.ec(2);s.Ab(2),s.mc("ngClass",s.pc(6,be,t.uploadStatuses.error)),s.Ab(2),s.mc("ngIf",t.uploadStatuses.success||t.uploadStatuses.error),s.Ab(1),s.mc("ngIf",s.gc(6,4,t.uploadStatuses.inProgress$)),s.Ab(3),s.Ic(t.file.name)}}function ge(t,e){if(1&t&&s.Fc(0,me,12,8,"ng-container",8),2&t){const t=s.ec();s.mc("ngIf",t.uploadStatuses.started)}}const fe=function(t){return{"import-settings__upload--disabled":t}},he=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"",component:(()=>{class t extends T.a{constructor(t,e,n){super(),this.importDataService=t,this.router=e,this.notifService=n,this.loadOptions$=new o.a(null),this.practiceUrl=p.C,this.practiceControl=new Zt.e("",[Zt.s.required]),this.onUpload=t=>(this.uploadStatuses.started=!0,this.importDataService.upload(this.practiceControl.value,t.file).pipe(Object(C.a)(this.destroyed)).subscribe(()=>this.uploadStatuses.success=!0,()=>this.uploadStatuses.error=!0))}practiceValueChanged(t){this.loadOptions$.next({key:"practice",value:t.name})}onBackClick(){this.router.navigate([this.importDataService.backRoute])}onRemoveClick(){for(const t in this.uploadStatuses)Object.prototype.hasOwnProperty.call(this.uploadStatuses,t)&&"inProgress$"!==t&&(this.uploadStatuses[t]=null);this.importDataService.importedResults=null,this.file=null}onSaveClick(){this.isSaving=!0,this.importDataService.upload(this.practiceControl.value,this.file,!0).pipe(Object(C.a)(this.destroyed),Object(c.a)(()=>this.isSaving=!1)).subscribe(()=>{this.uploadStatuses.success=!0,this.notifService.success("Success","Data successfully uploaded",{nzDuration:7e3}),this.onRemoveClick()},()=>this.uploadStatuses.success=!1)}onFileChange(t){this.file=t.file.originFileObj}ngOnInit(){this.title=this.importDataService.title,this.uploadStatuses={success:null,started:null,inProgress$:this.importDataService.inProgress$.asObservable(),error:null}}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(f),s.Ob(i.e),s.Ob(Wt.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-import-data"]],features:[s.zb([h]),s.xb],decls:20,vars:12,consts:[[1,"panel"],["nzBackIcon","",1,"page-header",3,"nzTitle","nzBack"],[1,"container"],[1,"import-settings"],[1,"import-settings__practice"],["placeholder","Search and select practice",3,"control","url","valueChangedEvt"],[1,"import-settings__upload",3,"ngClass"],["nzType","drag","nzAccept",".csv",3,"nzFileListRender","nzDisabled","nzCustomRequest","nzChange"],[4,"ngIf"],[1,"import-settings__save"],["nz-button","","nzType","primary",1,"import-settings__save-btn",3,"nzLoading","disabled","click"],[1,"file-content"],["nzText","Data validation","nzOrientation","left",1,"large"],["fileListTpl",""],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"],[1,"uploader-preview"],[1,"uploader-preview__wrapper",3,"ngClass"],[1,"uploader-preview__item"],["nz-icon","","nzType","file","nzTheme","twotone","class","uploader-preview__item__icon",3,"nzTwotoneColor",4,"ngIf"],["nz-icon","","nzType","loading","nzTheme","outline","class","uploader-preview__item__icon",4,"ngIf"],[1,"uploader-preview__item__remove"],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-icon","","nzType","file","nzTheme","twotone",1,"uploader-preview__item__icon",3,"nzTwotoneColor"],["nz-icon","","nzType","loading","nzTheme","outline",1,"uploader-preview__item__icon"]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.Ub(1,"nz-page-header",1),s.bc("nzBack",function(){return e.onBackClick()}),s.Tb(),s.Ub(2,"div",2),s.Ub(3,"section",3),s.Ub(4,"div",4),s.Hc(5," Practice: "),s.Ub(6,"app-select",5),s.bc("valueChangedEvt",function(t){return e.practiceValueChanged(t)}),s.Tb(),s.Tb(),s.Ub(7,"div",6),s.Ub(8,"nz-upload",7),s.bc("nzChange",function(t){return e.onFileChange(t)}),s.Fc(9,de,5,2,"div",8),s.Tb(),s.Tb(),s.Ub(10,"div",9),s.Ub(11,"span"),s.Hc(12,"Only valid data will be saved"),s.Tb(),s.Ub(13,"button",10),s.bc("click",function(){return e.onSaveClick()}),s.Hc(14,"Save"),s.Tb(),s.Tb(),s.Tb(),s.Ub(15,"section",11),s.Pb(16,"nz-divider",12),s.Pb(17,"router-outlet"),s.Tb(),s.Tb(),s.Tb(),s.Fc(18,ge,1,1,"ng-template",null,13,s.Gc)),2&t){const t=s.uc(19);s.Ab(1),s.mc("nzTitle",e.title),s.Ab(5),s.mc("control",e.practiceControl)("url",e.practiceUrl),s.Ab(1),s.mc("ngClass",s.pc(10,fe,!e.practiceControl.valid&&!e.file)),s.Ab(1),s.mc("nzFileListRender",t)("nzDisabled",!e.practiceControl.valid)("nzCustomRequest",e.onUpload),s.Ab(1),s.mc("ngIf",!e.uploadStatuses.started),s.Ab(4),s.mc("nzLoading",e.isSaving)("disabled",!e.practiceControl.valid||!e.file)}},directives:[te.a,ee.a,z.m,ne.a,z.o,ae.a,ie.a,oe.a,se.a,i.i,ce.a],pipes:[z.b],styles:["[_nghost-%COMP%]     .ant-upload.ant-upload-drag .ant-upload{min-height:180px;padding:16px}[_nghost-%COMP%]     .ant-upload.ant-upload-drag p.ant-upload-drag-icon{margin-bottom:0}.import-settings[_ngcontent-%COMP%]{display:grid;gap:24px;max-width:40%;width:100%}.import-settings__practice[_ngcontent-%COMP%]{display:grid;grid-template-columns:-webkit-max-content 1fr;grid-template-columns:max-content 1fr;gap:16px;align-items:center}.import-settings__upload[_ngcontent-%COMP%]{position:relative}.import-settings__upload--disabled[_ngcontent-%COMP%]{opacity:.6}.import-settings__save[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.import-settings__save-btn[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-left:16px}.file-content[_ngcontent-%COMP%]{margin-top:24px}.uploader-preview[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.uploader-preview__wrapper[_ngcontent-%COMP%]{padding:8px;border:1px solid #d9d9d9;border-radius:2px}.uploader-preview__wrapper--error[_ngcontent-%COMP%]{color:#ff4d4f;border-color:#ff4d4f}.uploader-preview__item[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:8px}.uploader-preview__item__icon[_ngcontent-%COMP%]{display:inherit;justify-content:center;align-items:center;width:48px;height:48px;font-size:32px}.uploader-preview__item__remove[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:flex-end;width:100%;height:100%;background-color:rgba(0,0,0,.5);border-radius:2px;opacity:0;z-index:1;transition:all .3s}.uploader-preview__item__remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.8)}.uploader-preview__item__remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#ffffd9}.uploader-preview__item[_ngcontent-%COMP%]:hover   .uploader-preview__item__remove[_ngcontent-%COMP%]{opacity:1}"]}),t})(),children:[{path:"patients",component:Xt,data:{type:"patient"}},{path:"devices",component:Y,data:{type:"device"}},{path:"doctors",component:mt,data:{type:"doctor"}}]}];let ve=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[i.h.forChild(he)],i.h]}),t})();var Te=n("S9na");let Ce=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[a.a,ve,r,Te.a]]}),t})()}}]);