!function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"39Jk":function(t,r,a){"use strict";a.r(r),a.d(r,"AlertListModule",function(){return U});var o,u,s=a("PCNd"),l=a("tyNb"),f=a("Pj3g"),b=a("fXoL"),p=((o=function t(){c(this,t)}).\u0275mod=b.Mb({type:o}),o.\u0275inj=b.Lb({factory:function(t){return new(t||o)}}),o),d=a("o5fV"),m=a("ILvI"),h=((u=function(t){n(a,t);var r=i(a);function a(){return c(this,a),r.call(this)}return e(a,[{key:"getAlertList",value:function(t){return this.getItems(t,m.b)}}]),a}(d.a)).\u0275fac=function(t){return new(t||u)},u.\u0275prov=b.Kb({token:u,factory:u.\u0275fac,providedIn:p}),u),v=a("jPNr"),g=a("1ReC"),y=a("ofXK"),O=a("rMZv"),C=a("C2AL"),j=a("FwiY");function w(t,e){if(1&t&&(b.Sb(0),b.Ub(1,"a",5),b.Hc(2),b.Pb(3,"i",6),b.Tb(),b.Rb()),2&t){var n=e.ngIf;b.Ab(1),b.mc("href","/patient-details/"+n.id,b.xc),b.Ab(1),b.Lc(" ",n.first_name," ",n.middle_name," ",n.last_name," ")}}function k(t,e){if(1&t&&(b.Ub(0,"div"),b.Ub(1,"strong"),b.Hc(2,"Blood pressure:"),b.Tb(),b.Hc(3),b.Tb()),2&t){var n=b.ec().$implicit;b.Ab(3),b.Jc(" ",n.bp_alert," ")}}function A(t,e){if(1&t&&(b.Ub(0,"div"),b.Ub(1,"strong"),b.Hc(2,"Heart rate:"),b.Tb(),b.Hc(3),b.Tb()),2&t){var n=b.ec().$implicit;b.Ab(3),b.Jc(" ",n.hr_alert," ")}}function I(t,e){if(1&t&&(b.Ub(0,"div"),b.Ub(1,"strong"),b.Hc(2,"Arrhythmia:"),b.Tb(),b.Hc(3),b.Tb()),2&t){var n=b.ec().$implicit;b.Ab(3),b.Jc(" ",n.arrhythmia_alert," ")}}function T(t,e){if(1&t&&(b.Ub(0,"div"),b.Hc(1),b.Tb()),2&t){var n=b.ec().$implicit;b.Ab(1),b.Jc(" ",n.alerts," ")}}function L(t,e){if(1&t&&(b.Ub(0,"tr"),b.Ub(1,"td"),b.Hc(2),b.fc(3,"date"),b.Tb(),b.Ub(4,"td"),b.Hc(5),b.Tb(),b.Ub(6,"td"),b.Fc(7,w,4,4,"ng-container",4),b.Tb(),b.Ub(8,"td"),b.Fc(9,k,4,1,"div",4),b.Fc(10,A,4,1,"div",4),b.Fc(11,I,4,1,"div",4),b.Fc(12,T,2,1,"div",4),b.Tb(),b.Tb()),2&t){var n=e.$implicit;b.Ab(2),b.Ic(b.hc(3,7,n.measurement_date,"short")),b.Ab(3),b.Ic(null==n.device?null:n.device.device_id),b.Ab(2),b.mc("ngIf",n.patient),b.Ab(2),b.mc("ngIf",n.bp_alert),b.Ab(1),b.mc("ngIf",n.hr_alert),b.Ab(1),b.mc("ngIf",n.arrhythmia_alert),b.Ab(1),b.mc("ngIf",n.alerts)}}var _,z,P,x=[{path:"",component:(_=function(t){n(a,t);var r=i(a);function a(t){var e;return c(this,a),(e=r.call(this)).alertListService=t,e.displayColumns=[{name:"Measurement date",filterKey:"measurement_date",customFilter:"date",sort:!0,filter:!0,visible:!1},{name:"Device ID",filterKey:"device_id",customFilter:"search",filter:!0,visible:!1},{name:"Patient",filterKey:"device_id",customFilter:"search",filter:!0,visible:!1},{name:"Alerts"}],e}return e(a,[{key:"getAlerts",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params;this.getItems(this.alertListService.getAlertList(t)).subscribe()}},{key:"onQueryParamsChange",value:function(t){this.params=t,this.getAlerts(t)}}]),a}(f.a),_.\u0275fac=function(t){return new(t||_)(b.Ob(h))},_.\u0275cmp=b.Ib({type:_,selectors:[["app-alert-list"]],features:[b.xb],decls:4,vars:5,consts:[[1,"panel"],["nzTitle","Alerts",1,"page-header"],[3,"data","displayColumns","totalCount","isLoading$","queryParamsChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank",3,"href"],["nz-icon","","nzType","icon:external-link"]],template:function(t,e){1&t&&(b.Ub(0,"div",0),b.Pb(1,"nz-page-header",1),b.Ub(2,"app-table-wrapper",2),b.bc("queryParamsChange",function(t){return e.onQueryParamsChange(t)}),b.Fc(3,L,13,10,"tr",3),b.Tb(),b.Tb()),2&t&&(b.Ab(2),b.mc("data",e.items)("displayColumns",e.displayColumns)("totalCount",e.totalCount)("isLoading$",e.isLoading$.asObservable()),b.Ab(1),b.mc("ngForOf",e.items))},directives:[v.a,g.a,y.n,O.i,O.b,y.o,C.a,j.a],pipes:[y.e],styles:[""]}),_)}],R=((P=function t(){c(this,t)}).\u0275mod=b.Mb({type:P}),P.\u0275inj=b.Lb({factory:function(t){return new(t||P)},imports:[[l.h.forChild(x)],l.h]}),P),U=((z=function t(){c(this,t)}).\u0275mod=b.Mb({type:z}),z.\u0275inj=b.Lb({factory:function(t){return new(t||z)},imports:[[s.a,R,p]]}),z)},Pj3g:function(t,r,a){"use strict";a.d(r,"a",function(){return d});var o=a("fXoL"),u=a("oaey"),s=a("nYR2"),l=a("1G5W"),f=a("lJxs"),b=a("2Vo4"),p=a("EY2u"),d=function(t){n(a,t);var r=i(a);function a(){var t;return c(this,a),(t=r.call(this)).isLoading$=new b.a(!0),t.pageIndex$=new o.n,t.params=null,t}return e(a,[{key:"stopLoading",value:function(){return this.isLoading$.next(!1),p.a}},{key:"goToPrevPage",value:function(){return this.pageIndex$.emit(),p.a}},{key:"getItems",value:function(t){var e=this;return this.isLoading$.next(!0),t.pipe(Object(s.a)(function(){return e.isLoading$.next(!1)}),Object(l.a)(this.destroyed),Object(f.a)(function(t){return e.items=t.items,e.totalCount=t.total_count,t}))}}]),a}(u.a)},o5fV:function(t,n,r){"use strict";r.d(n,"a",function(){return m});var i,a=r("mrSG"),o=r("sbGu"),u=r("dEAy"),s=r("CvgI"),l=r("tk/3"),f=r("lJxs"),b=r("pLZG"),p=r("fXoL"),d=((i=function t(e){c(this,t),this.modal=e,this.modal.updateConfig({nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzAutofocus:null,nzOkType:"danger",nzOkText:"Delete",nzClosable:!1})}).\u0275fac=function(t){return new(t||i)(p.Ob(u.c))},i.\u0275cmp=p.Ib({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),i),m=function(){function t(){c(this,t);var e=o.a.getInjector;this.http=e.get(l.c),this.modalService=e.get(u.d)}return e(t,[{key:"getItems",value:function(t,e,n){var r=Object(s.a)(t),i=Object.assign({params:r},n);return this.http.get(e,Object.assign({},i)).pipe(Object(f.a)(function(t){return t}))}},{key:"openModal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;return this.modalService.create(Object.assign(Object.assign({},r&&{nzWrapClassName:"vertical-center-modal"}),{nzTitle:t,nzWidth:i+"px",nzContent:n,nzComponentParams:Object.assign({},e)})).afterClose.pipe(Object(b.a)(function(t){return t}))}},{key:"openActionConfirmationModal",value:function(t,e){return this.modalService.confirm({nzContent:e,nzTitle:t,nzOnOk:function(){return!0}}).afterClose.pipe(Object(b.a)(function(t){return t}))}},{key:"deleteItem",value:function(t,e){var n=this;return this.modalService.confirm({nzContent:d,nzTitle:t,nzOnOk:function(t){return Object(a.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.modal.config.nzOkLoading=!0,n.next=3,this.deleteItemRequest(e);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}))}}).afterClose.pipe(Object(b.a)(function(t){return t}))}},{key:"deleteItemRequest",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.delete(t).toPromise().then(function(t){return"success"===t.status});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),t}()}}])}();