(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{ZkYA:function(e,t,n){"use strict";n.r(t),n.d(t,"OrphanAlertsModule",function(){return _});var i=n("PCNd"),r=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)}}),e})();var a=n("tyNb"),s=n("Pj3g"),o=n("mCNh"),b=n("eIep"),l=n("1G5W"),u=n("ILvI"),p=n("o5fV");let d=(()=>{class e extends p.a{constructor(){super()}getOrphanAlerts(e){return this.getItems(e,u.v)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Kb({token:e,factory:e.\u0275fac,providedIn:c}),e})();var m=n("h5VU"),h=n("jPNr"),f=n("1ReC"),v=n("ofXK"),T=n("rMZv"),g=n("OzZK"),y=n("C2AL"),A=n("Nqz0"),U=n("FwiY"),z=n("Q8cG");function C(e,t){if(1&e&&(r.Ub(0,"div"),r.Ub(1,"strong"),r.Hc(2,"Blood pressure:"),r.Tb(),r.Hc(3),r.Tb()),2&e){const e=r.ec().$implicit;r.Ab(3),r.Jc(" ",e.bp_alert," ")}}function w(e,t){if(1&e&&(r.Ub(0,"div"),r.Ub(1,"strong"),r.Hc(2,"Heart rate:"),r.Tb(),r.Hc(3),r.Tb()),2&e){const e=r.ec().$implicit;r.Ab(3),r.Jc(" ",e.hr_alert," ")}}function P(e,t){if(1&e&&(r.Ub(0,"div"),r.Ub(1,"strong"),r.Hc(2,"Arrhythmia:"),r.Tb(),r.Hc(3),r.Tb()),2&e){const e=r.ec().$implicit;r.Ab(3),r.Jc(" ",e.arrhythmia_alert," ")}}function k(e,t){if(1&e&&(r.Ub(0,"div"),r.Hc(1),r.Tb()),2&e){const e=r.ec().$implicit;r.Ab(1),r.Jc(" ",e.alerts," ")}}function I(e,t){if(1&e){const e=r.Vb();r.Ub(0,"tr"),r.Ub(1,"td"),r.Hc(2),r.fc(3,"date"),r.Tb(),r.Ub(4,"td"),r.Hc(5),r.Tb(),r.Ub(6,"td"),r.Hc(7),r.Tb(),r.Ub(8,"td"),r.Fc(9,C,4,1,"div",4),r.Fc(10,w,4,1,"div",4),r.Fc(11,P,4,1,"div",4),r.Fc(12,k,2,1,"div",4),r.Tb(),r.Ub(13,"td",5),r.Ub(14,"div"),r.Ub(15,"button",6),r.bc("click",function(e){return e.stopPropagation()}),r.Pb(16,"i",7),r.Tb(),r.Ub(17,"nz-dropdown-menu",null,8),r.Ub(19,"ul",9),r.Ub(20,"button",10),r.bc("click",function(){r.vc(e);const n=t.$implicit;return r.ec().onAssociateClick(n)}),r.Ub(21,"div",11),r.Pb(22,"i",12),r.Ub(23,"span"),r.Hc(24,"Associate with patient"),r.Tb(),r.Tb(),r.Tb(),r.Ub(25,"button",10),r.bc("click",function(){r.vc(e);const n=t.$implicit;return r.ec().onCreatePatientClick(n)}),r.Ub(26,"div",11),r.Pb(27,"i",13),r.Ub(28,"span"),r.Hc(29,"Create patient"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&e){const e=t.$implicit,n=r.uc(18);r.Ab(2),r.Ic(r.hc(3,8,e.measurement_date,"short")),r.Ab(3),r.Ic(null==e.device?null:e.device.device_id),r.Ab(2),r.Ic(null==e.device?null:e.device.serial_number),r.Ab(2),r.mc("ngIf",e.bp_alert),r.Ab(1),r.mc("ngIf",e.hr_alert),r.Ab(1),r.mc("ngIf",e.arrhythmia_alert),r.Ab(1),r.mc("ngIf",e.alerts),r.Ab(3),r.mc("nzDropdownMenu",n)}}const O=[{path:"",component:(()=>{class e extends s.a{constructor(e,t){super(),this.alertsService=e,this.orphanDataService=t,this.displayColumns=[{name:"Measurement date",filterKey:"date",customFilter:"date",sort:!0,filter:!0,visible:!1},{name:"Device ID",filterKey:"device_id",customFilter:"search",sort:!0,filter:!0,visible:!1},{name:"Device serial number",filterKey:"serial_number",customFilter:"search",sort:!0,filter:!0,visible:!1},{name:"Alerts"},{name:""}]}get alertsPipe(){return Object(o.a)(Object(b.a)(()=>this.getOrphanAlerts()))}getOrphanAlerts(e=this.params){return this.getItems(this.alertsService.getOrphanAlerts(e)).pipe(Object(l.a)(this.destroyed))}onQueryParamsChange(e){this.params=e,this.getOrphanAlerts().subscribe()}onAssociateClick(e){this.orphanDataService.openAssociateModal(e).pipe(this.alertsPipe).subscribe()}onCreatePatientClick(e){this.orphanDataService.createPatient(e).pipe(this.alertsPipe).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(d),r.Ob(m.a))},e.\u0275cmp=r.Ib({type:e,selectors:[["ng-component"]],features:[r.xb],decls:4,vars:5,consts:[[1,"panel"],["nzTitle","Orphan alerts",1,"page-header"],[3,"data","displayColumns","totalCount","isLoading$","queryParamsChange"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-cell__actions"],["nz-button","","nzType","link","nzTrigger","click","nz-dropdown","",3,"nzDropdownMenu","click"],["nz-icon","","nzType","icon:more","nzTheme","outline"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",1,"btn--menu-item",3,"click"],[1,"ant-btn-sm","ant-btn-link","ant-btn"],["nz-icon","","nzType","node-index","nzTheme","outline"],["nz-icon","","nzType","user-add","nzTheme","outline"]],template:function(e,t){1&e&&(r.Ub(0,"div",0),r.Pb(1,"nz-page-header",1),r.Ub(2,"app-table-wrapper",2),r.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e)}),r.Fc(3,I,30,11,"tr",3),r.Tb(),r.Tb()),2&e&&(r.Ab(2),r.mc("data",t.items)("displayColumns",t.displayColumns)("totalCount",t.totalCount)("isLoading$",t.isLoading$.asObservable()),r.Ab(1),r.mc("ngForOf",t.items))},directives:[h.a,f.a,v.n,T.i,T.b,v.o,g.a,y.a,A.d,A.b,U.a,A.e,z.c,z.d],pipes:[v.e],encapsulation:2}),e})()}];let H=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)},imports:[[a.h.forChild(O)],a.h]}),e})(),_=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)},imports:[[i.a,H,c]]}),e})()}}]);