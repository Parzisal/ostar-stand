!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,i=r(e);if(t){var s=r(this).constructor;a=Reflect.construct(i,arguments,s)}else a=i.apply(this,arguments);return n(this,a)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{qV9m:function(n,r,a){"use strict";a.r(r),a.d(r,"DashboardModule",function(){return Q});var o,c,u=a("PCNd"),l=a("tyNb"),b=a("oaey"),f=a("1G5W"),m=a("nYR2"),p=a("2Vo4"),d=a("fXoL"),h=((o=function e(){s(this,e)}).\u0275mod=d.Mb({type:o}),o.\u0275inj=d.Lb({factory:function(e){return new(e||o)}}),o),g=a("ILvI"),y=a("lJxs"),v=a("CvgI"),T=a("tk/3"),w=((c=function(){function e(t){s(this,e),this.http=t}return i(e,[{key:"getItemsRequest",value:function(e,t){var n=Object(v.a)(Object.assign({},e));return this.http.get(t,{params:n}).pipe(Object(y.a)(function(e){return e.items}))}},{key:"getAlertList",value:function(e){return this.getItemsRequest(e,g.b)}},{key:"getMeasurementsList",value:function(e){return this.getItemsRequest(e,g.q)}}]),e}()).\u0275fac=function(e){return new(e||c)(d.Yb(T.c))},c.\u0275prov=d.Kb({token:c,factory:c.\u0275fac,providedIn:h}),c),A=a("jPNr"),P=a("OzZK"),U=a("C2AL"),I=a("1ReC"),O=a("ofXK"),C=a("rMZv"),_=a("FwiY");function z(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"a",8),d.Hc(2),d.Pb(3,"i",9),d.Tb(),d.Rb()),2&e){var n=t.ngIf;d.Ab(1),d.mc("href","/patient-details/"+n.id,d.xc),d.Ab(1),d.Jc(" ",n.first_name+" "+n.last_name," ")}}function H(e,t){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"strong"),d.Hc(2,"Blood pressure:"),d.Tb(),d.Hc(3),d.Tb()),2&e){var n=d.ec().$implicit;d.Ab(3),d.Jc(" ",n.bp_alert," ")}}function L(e,t){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"strong"),d.Hc(2,"Heart rate:"),d.Tb(),d.Hc(3),d.Tb()),2&e){var n=d.ec().$implicit;d.Ab(3),d.Jc(" ",n.hr_alert," ")}}function S(e,t){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"strong"),d.Hc(2,"Arrhythmia:"),d.Tb(),d.Hc(3),d.Tb()),2&e){var n=d.ec().$implicit;d.Ab(3),d.Jc(" ",n.arrhythmia_alert," ")}}function F(e,t){if(1&e&&(d.Ub(0,"div"),d.Hc(1),d.Tb()),2&e){var n=d.ec().$implicit;d.Ab(1),d.Jc(" ",n.alerts," ")}}function j(e,t){if(1&e&&(d.Ub(0,"tr"),d.Ub(1,"td"),d.Hc(2),d.fc(3,"date"),d.Tb(),d.Ub(4,"td"),d.Hc(5),d.Tb(),d.Ub(6,"td"),d.Fc(7,z,4,2,"ng-container",7),d.Tb(),d.Ub(8,"td"),d.Fc(9,H,4,1,"div",7),d.Fc(10,L,4,1,"div",7),d.Fc(11,S,4,1,"div",7),d.Fc(12,F,2,1,"div",7),d.Tb(),d.Tb()),2&e){var n=t.$implicit;d.Ab(2),d.Ic(d.hc(3,7,n.measurement_date,"short")),d.Ab(3),d.Ic(null==n.device?null:n.device.device_id),d.Ab(2),d.mc("ngIf",n.patient),d.Ab(2),d.mc("ngIf",n.bp_alert),d.Ab(1),d.mc("ngIf",n.hr_alert),d.Ab(1),d.mc("ngIf",n.arrhythmia_alert),d.Ab(1),d.mc("ngIf",n.alerts)}}var k=function(e){return{"test-measurement":e}};function $(e,t){if(1&e&&(d.Ub(0,"tr",10),d.Ub(1,"td"),d.Hc(2),d.Tb(),d.Ub(3,"td"),d.Hc(4,"Blood pressure"),d.Tb(),d.Ub(5,"td"),d.Hc(6),d.fc(7,"date"),d.Tb(),d.Ub(8,"td"),d.Hc(9),d.Tb(),d.Ub(10,"td"),d.Hc(11),d.Tb(),d.Ub(12,"td"),d.Hc(13),d.Tb(),d.Ub(14,"td"),d.Ub(15,"a",8),d.Pb(16,"i",9),d.Tb(),d.Tb(),d.Tb()),2&e){var n=t.$implicit;d.mc("ngClass",d.pc(12,k,n.test))("title",n.test?"Test measurement":""),d.Ab(2),d.Kc("",null==n.patient?null:n.patient.first_name," ",null==n.patient?null:n.patient.last_name,""),d.Ab(4),d.Ic(d.hc(7,9,n.measurement_date,"short")),d.Ab(3),d.Ic(n.systolic),d.Ab(2),d.Ic(n.diastolic),d.Ab(2),d.Ic(n.pulse),d.Ab(2),d.mc("href","/patient-details/"+(null==n.patient?null:n.patient.id)+"/measurement-details/"+n.id+"/blood-pressure",d.xc)}}var x,M,R,D=function e(){s(this,e),this.items=new Array,this.isLoading$=new p.a(!0)},q=[{path:"",component:(x=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(a,n);var r=t(a);function a(e){var t;return s(this,a),(t=r.call(this)).dashboardService=e,t.nzShowPagination=!1,t.pageSize=5,t.alerts=new D,t.measurements=new D,t.alertsDisplayColumns=[{name:"Measurement date"},{name:"Device ID"},{name:"Patient"},{name:"Alerts"}],t.measurementsDisplayColumns=[{name:"Patient"},{name:"Measurement type"},{name:"Measurement date"},{name:"Systolic"},{name:"Diastolic"},{name:"Pulse"},{name:""}],t}return i(a,[{key:"getItems",value:function(e,t,n){var r=this;return this.dashboardService[t](e).pipe(Object(f.a)(this.destroyed),Object(m.a)(function(){return r[n].isLoading$.next(!1)})).subscribe(function(e){return r[n].items=e})}},{key:"onQueryParamsChange",value:function(e,t,n){this.getItems(e,t,n)}}]),a}(b.a),x.\u0275fac=function(e){return new(e||x)(d.Ob(w))},x.\u0275cmp=d.Ib({type:x,selectors:[["app-dashboard"]],features:[d.xb],decls:12,vars:16,consts:[[1,"panel"],["nzTitle","Alerts",1,"page-header"],["nz-button","","nzType","link","routerLink","/alert-list"],[3,"data","displayColumns","pageSize","hasFilters","allowQueryParams","nzShowPagination","isLoading$","queryParamsChange"],[4,"ngFor","ngForOf"],["nzTitle","Measurements",1,"page-header"],[3,"ngClass","title",4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank",3,"href"],["nz-icon","","nzType","icon:external-link"],[3,"ngClass","title"]],template:function(e,t){1&e&&(d.Ub(0,"section"),d.Ub(1,"div",0),d.Ub(2,"nz-page-header",1),d.Ub(3,"nz-page-header-extra"),d.Ub(4,"a",2),d.Hc(5,"All alerts"),d.Tb(),d.Tb(),d.Tb(),d.Ub(6,"app-table-wrapper",3),d.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e,"getAlertList","alerts")}),d.Fc(7,j,13,10,"tr",4),d.Tb(),d.Tb(),d.Ub(8,"div",0),d.Pb(9,"nz-page-header",5),d.Ub(10,"app-table-wrapper",3),d.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e,"getMeasurementsList","measurements")}),d.Fc(11,$,17,14,"tr",6),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Ab(6),d.mc("data",null==t.alerts?null:t.alerts.items)("displayColumns",t.alertsDisplayColumns)("pageSize",t.pageSize)("hasFilters",!1)("allowQueryParams",!1)("nzShowPagination",t.nzShowPagination)("isLoading$",null==t.alerts?null:t.alerts.isLoading$.asObservable()),d.Ab(1),d.mc("ngForOf",null==t.alerts?null:t.alerts.items),d.Ab(3),d.mc("data",null==t.measurements?null:t.measurements.items)("displayColumns",t.measurementsDisplayColumns)("pageSize",t.pageSize)("hasFilters",!1)("allowQueryParams",!1)("nzShowPagination",t.nzShowPagination)("isLoading$",null==t.measurements?null:t.measurements.isLoading$.asObservable()),d.Ab(1),d.mc("ngForOf",null==t.measurements?null:t.measurements.items))},directives:[A.a,A.c,P.a,l.g,U.a,I.a,O.n,C.i,C.b,O.o,_.a,O.m],pipes:[O.e],styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(700px,1fr));gap:16px}"]}),x)}],J=((R=function e(){s(this,e)}).\u0275mod=d.Mb({type:R}),R.\u0275inj=d.Lb({factory:function(e){return new(e||R)},imports:[[l.h.forChild(q)],l.h]}),R),Q=((M=function e(){s(this,e)}).\u0275mod=d.Mb({type:M}),M.\u0275inj=d.Lb({factory:function(e){return new(e||M)},imports:[[u.a,J,h]]}),M)}}])}();