(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{qV9m:function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardModule",function(){return $});var a=n("PCNd"),s=n("tyNb"),i=n("oaey"),r=n("1G5W"),c=n("nYR2"),l=n("2Vo4"),o=n("fXoL");let b=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)}}),e})();var m=n("ILvI"),u=n("lJxs"),p=n("CvgI"),d=n("tk/3");let g=(()=>{class e{constructor(e){this.http=e}getItemsRequest(e,t){const n=Object(p.a)(Object.assign({},e));return this.http.get(t,{params:n}).pipe(Object(u.a)(e=>e.items))}getAlertList(e){return this.getItemsRequest(e,m.b)}getMeasurementsList(e){return this.getItemsRequest(e,m.q)}}return e.\u0275fac=function(t){return new(t||e)(o.Yb(d.c))},e.\u0275prov=o.Kb({token:e,factory:e.\u0275fac,providedIn:b}),e})();var h=n("jPNr"),f=n("OzZK"),y=n("C2AL"),T=n("1ReC"),A=n("ofXK"),U=n("rMZv"),v=n("FwiY");function w(e,t){if(1&e&&(o.Sb(0),o.Ub(1,"a",8),o.Hc(2),o.Pb(3,"i",9),o.Tb(),o.Rb()),2&e){const e=t.ngIf;o.Ab(1),o.mc("href","/patient-details/"+e.id,o.xc),o.Ab(1),o.Jc(" ",e.first_name+" "+e.last_name," ")}}function I(e,t){if(1&e&&(o.Ub(0,"div"),o.Ub(1,"strong"),o.Hc(2,"Blood pressure:"),o.Tb(),o.Hc(3),o.Tb()),2&e){const e=o.ec().$implicit;o.Ab(3),o.Jc(" ",e.bp_alert," ")}}function P(e,t){if(1&e&&(o.Ub(0,"div"),o.Ub(1,"strong"),o.Hc(2,"Heart rate:"),o.Tb(),o.Hc(3),o.Tb()),2&e){const e=o.ec().$implicit;o.Ab(3),o.Jc(" ",e.hr_alert," ")}}function z(e,t){if(1&e&&(o.Ub(0,"div"),o.Ub(1,"strong"),o.Hc(2,"Arrhythmia:"),o.Tb(),o.Hc(3),o.Tb()),2&e){const e=o.ec().$implicit;o.Ab(3),o.Jc(" ",e.arrhythmia_alert," ")}}function C(e,t){if(1&e&&(o.Ub(0,"div"),o.Hc(1),o.Tb()),2&e){const e=o.ec().$implicit;o.Ab(1),o.Jc(" ",e.alerts," ")}}function H(e,t){if(1&e&&(o.Ub(0,"tr"),o.Ub(1,"td"),o.Hc(2),o.fc(3,"date"),o.Tb(),o.Ub(4,"td"),o.Hc(5),o.Tb(),o.Ub(6,"td"),o.Fc(7,w,4,2,"ng-container",7),o.Tb(),o.Ub(8,"td"),o.Fc(9,I,4,1,"div",7),o.Fc(10,P,4,1,"div",7),o.Fc(11,z,4,1,"div",7),o.Fc(12,C,2,1,"div",7),o.Tb(),o.Tb()),2&e){const e=t.$implicit;o.Ab(2),o.Ic(o.hc(3,7,e.measurement_date,"short")),o.Ab(3),o.Ic(null==e.device?null:e.device.device_id),o.Ab(2),o.mc("ngIf",e.patient),o.Ab(2),o.mc("ngIf",e.bp_alert),o.Ab(1),o.mc("ngIf",e.hr_alert),o.Ab(1),o.mc("ngIf",e.arrhythmia_alert),o.Ab(1),o.mc("ngIf",e.alerts)}}const L=function(e){return{"test-measurement":e}};function F(e,t){if(1&e&&(o.Ub(0,"tr",10),o.Ub(1,"td"),o.Hc(2),o.Tb(),o.Ub(3,"td"),o.Hc(4,"Blood pressure"),o.Tb(),o.Ub(5,"td"),o.Hc(6),o.fc(7,"date"),o.Tb(),o.Ub(8,"td"),o.Hc(9),o.Tb(),o.Ub(10,"td"),o.Hc(11),o.Tb(),o.Ub(12,"td"),o.Hc(13),o.Tb(),o.Ub(14,"td"),o.Ub(15,"a",8),o.Pb(16,"i",9),o.Tb(),o.Tb(),o.Tb()),2&e){const e=t.$implicit;o.mc("ngClass",o.pc(12,L,e.test))("title",e.test?"Test measurement":""),o.Ab(2),o.Kc("",null==e.patient?null:e.patient.first_name," ",null==e.patient?null:e.patient.last_name,""),o.Ab(4),o.Ic(o.hc(7,9,e.measurement_date,"short")),o.Ab(3),o.Ic(e.systolic),o.Ab(2),o.Ic(e.diastolic),o.Ab(2),o.Ic(e.pulse),o.Ab(2),o.mc("href","/patient-details/"+(null==e.patient?null:e.patient.id)+"/measurement-details/"+e.id+"/blood-pressure",o.xc)}}class S{constructor(){this.items=new Array,this.isLoading$=new l.a(!0)}}const _=[{path:"",component:(()=>{class e extends i.a{constructor(e){super(),this.dashboardService=e,this.nzShowPagination=!1,this.pageSize=5,this.alerts=new S,this.measurements=new S,this.alertsDisplayColumns=[{name:"Measurement date"},{name:"Device ID"},{name:"Patient"},{name:"Alerts"}],this.measurementsDisplayColumns=[{name:"Patient"},{name:"Measurement type"},{name:"Measurement date"},{name:"Systolic"},{name:"Diastolic"},{name:"Pulse"},{name:""}]}getItems(e,t,n){return this.dashboardService[t](e).pipe(Object(r.a)(this.destroyed),Object(c.a)(()=>this[n].isLoading$.next(!1))).subscribe(e=>this[n].items=e)}onQueryParamsChange(e,t,n){this.getItems(e,t,n)}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(g))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-dashboard"]],features:[o.xb],decls:12,vars:16,consts:[[1,"panel"],["nzTitle","Alerts",1,"page-header"],["nz-button","","nzType","link","routerLink","/alert-list"],[3,"data","displayColumns","pageSize","hasFilters","allowQueryParams","nzShowPagination","isLoading$","queryParamsChange"],[4,"ngFor","ngForOf"],["nzTitle","Measurements",1,"page-header"],[3,"ngClass","title",4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank",3,"href"],["nz-icon","","nzType","icon:external-link"],[3,"ngClass","title"]],template:function(e,t){1&e&&(o.Ub(0,"section"),o.Ub(1,"div",0),o.Ub(2,"nz-page-header",1),o.Ub(3,"nz-page-header-extra"),o.Ub(4,"a",2),o.Hc(5,"All alerts"),o.Tb(),o.Tb(),o.Tb(),o.Ub(6,"app-table-wrapper",3),o.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e,"getAlertList","alerts")}),o.Fc(7,H,13,10,"tr",4),o.Tb(),o.Tb(),o.Ub(8,"div",0),o.Pb(9,"nz-page-header",5),o.Ub(10,"app-table-wrapper",3),o.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e,"getMeasurementsList","measurements")}),o.Fc(11,F,17,14,"tr",6),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Ab(6),o.mc("data",null==t.alerts?null:t.alerts.items)("displayColumns",t.alertsDisplayColumns)("pageSize",t.pageSize)("hasFilters",!1)("allowQueryParams",!1)("nzShowPagination",t.nzShowPagination)("isLoading$",null==t.alerts?null:t.alerts.isLoading$.asObservable()),o.Ab(1),o.mc("ngForOf",null==t.alerts?null:t.alerts.items),o.Ab(3),o.mc("data",null==t.measurements?null:t.measurements.items)("displayColumns",t.measurementsDisplayColumns)("pageSize",t.pageSize)("hasFilters",!1)("allowQueryParams",!1)("nzShowPagination",t.nzShowPagination)("isLoading$",null==t.measurements?null:t.measurements.isLoading$.asObservable()),o.Ab(1),o.mc("ngForOf",null==t.measurements?null:t.measurements.items))},directives:[h.a,h.c,f.a,s.g,y.a,T.a,A.n,U.i,U.b,A.o,v.a,A.m],pipes:[A.e],styles:["section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(700px,1fr));gap:16px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[s.h.forChild(_)],s.h]}),e})(),$=(()=>{class e{}return e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({factory:function(t){return new(t||e)},imports:[[a.a,O,b]]}),e})()}}]);