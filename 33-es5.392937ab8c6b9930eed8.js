!function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{jT8Y:function(e,r,a){"use strict";a.r(r),a.d(r,"OrphanMeasurementsModule",function(){return K});var c,u,s=a("PCNd"),b=a("tyNb"),l=a("xlym"),f=a("eIep"),m=a("1G5W"),p=a("Pj3g"),d=a("mCNh"),h=a("fXoL"),v=a("ILvI"),y=a("o5fV"),g=((u=function e(){o(this,e)}).\u0275mod=h.Mb({type:u}),u.\u0275inj=h.Lb({factory:function(e){return new(e||u)}}),u),T=((c=function(e){n(a,e);var r=i(a);function a(){return o(this,a),r.call(this)}return t(a,[{key:"getOrphanMeasurements",value:function(e){return this.getItems(e,v.w)}}]),a}(y.a)).\u0275fac=function(e){return new(e||c)},c.\u0275prov=h.Kb({token:c,factory:c.\u0275fac,providedIn:g}),c),w=a("h5VU"),C=a("jPNr"),I=a("1ReC"),_=a("ofXK"),U=a("rMZv"),O=a("OzZK"),z=a("C2AL"),A=a("Nqz0"),P=a("FwiY"),k=a("Q8cG");function M(e,t){if(1&e&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&e){var n=h.ec().$implicit;h.Ab(1),h.Ic(n.weight)}}function H(e,t){if(1&e&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&e){var n=h.ec().$implicit;h.Ab(1),h.Ic(n.spo2)}}function j(e,t){if(1&e&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&e){var n=h.ec().$implicit;h.Ab(1),h.Ic(n.blood_glucose)}}function D(e,t){if(1&e&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&e){var n=h.ec().$implicit;h.Ab(1),h.Ic(n.temperature)}}var F=function(e){return{"test-measurement":e}};function x(e,t){if(1&e){var n=h.Vb();h.Ub(0,"tr",4),h.Ub(1,"td"),h.Hc(2),h.fc(3,"date"),h.Tb(),h.Ub(4,"td"),h.Hc(5),h.Tb(),h.Ub(6,"td"),h.Hc(7),h.Tb(),h.Ub(8,"td"),h.Hc(9),h.Tb(),h.Ub(10,"td"),h.Hc(11),h.Tb(),h.Ub(12,"td"),h.Hc(13),h.Tb(),h.Ub(14,"td"),h.Hc(15),h.Tb(),h.Ub(16,"td"),h.Hc(17),h.Tb(),h.Ub(18,"td"),h.Hc(19),h.Tb(),h.Fc(20,M,2,1,"td",5),h.Fc(21,H,2,1,"td",5),h.Fc(22,j,2,1,"td",5),h.Fc(23,D,2,1,"td",5),h.Ub(24,"td",6),h.Ub(25,"div"),h.Ub(26,"button",7),h.bc("click",function(e){return e.stopPropagation()}),h.Pb(27,"i",8),h.Tb(),h.Ub(28,"nz-dropdown-menu",null,9),h.Ub(30,"ul",10),h.Ub(31,"button",11),h.bc("click",function(){h.vc(n);var e=t.$implicit;return h.ec().onAssociateClick(e)}),h.Ub(32,"div",12),h.Pb(33,"i",13),h.Ub(34,"span"),h.Hc(35,"Associate with patient"),h.Tb(),h.Tb(),h.Tb(),h.Ub(36,"button",11),h.bc("click",function(){h.vc(n);var e=t.$implicit;return h.ec().onCreatePatientClick(e)}),h.Ub(37,"div",12),h.Pb(38,"i",14),h.Ub(39,"span"),h.Hc(40,"Create patient"),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb()}if(2&e){var r=t.$implicit,i=h.uc(29),a=h.ec();h.mc("ngClass",h.pc(19,F,r.test))("title",r.test?"Test measurement":""),h.Ab(2),h.Ic(h.hc(3,16,r.measurement_date,"short")),h.Ab(3),h.Ic(r.device.device_id),h.Ab(2),h.Ic(r.device.serial_number),h.Ab(2),h.Ic(r.systolic),h.Ab(2),h.Ic(r.diastolic),h.Ab(2),h.Ic(r.pulse),h.Ab(2),h.Ic(r.heartbeat_zone_frequency),h.Ab(2),h.Ic(r.valve_zone_frequency),h.Ab(2),h.Ic(r.cardiovascular_zone_frequency),h.Ab(1),h.mc("ngIf",!a.extraMeasurementsHidden.weight),h.Ab(1),h.mc("ngIf",!a.extraMeasurementsHidden.spo2),h.Ab(1),h.mc("ngIf",!a.extraMeasurementsHidden.blood_glucose),h.Ab(1),h.mc("ngIf",!a.extraMeasurementsHidden.temperature),h.Ab(3),h.mc("nzDropdownMenu",i)}}var $,L,S,R=[{path:"",component:($=function(e){n(a,e);var r=i(a);function a(e,t){var n;return o(this,a),(n=r.call(this)).orphanMeasurementsService=e,n.orphanDataService=t,n.displayColumns=[{name:"Measurement date",filterKey:"date",customFilter:"date",sort:!0,filter:!0,visible:!1},{name:"Device ID",filterKey:"device_id",customFilter:"search",sort:!0,filter:!0,visible:!1},{name:"Device serial number",filterKey:"serial_number",customFilter:"search",sort:!0,filter:!0,visible:!1},{name:"Systolic"},{name:"Diastolic"},{name:"Pulse"},{name:"I_1"},{name:"I_2"},{name:"I_3"},{name:l.a.weight,hidden:!0},{name:l.a.spo2,hidden:!0},{name:l.a.blood_glucose,hidden:!0},{name:l.a.temperature,hidden:!0},{name:""}],n.extraMeasurementsHidden={},n}return t(a,[{key:"addColumns",value:function(){var e=this;Object.keys(l.a).filter(function(e){return"blood_pressure_metrics"!==e}).forEach(function(t){var n=!e.items.some(function(e){return e[t]});e.extraMeasurementsHidden[t]=n,e.displayColumns.find(function(e){return e.name===l.a[t]}).hidden=n})}},{key:"getOrphanMeasurements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params;return this.getItems(this.orphanMeasurementsService.getOrphanMeasurements(e)).pipe(Object(m.a)(this.destroyed))}},{key:"onQueryParamsChange",value:function(e){var t=this;this.params=e,this.getOrphanMeasurements().subscribe(function(){return t.addColumns()})}},{key:"onAssociateClick",value:function(e){this.orphanDataService.openAssociateModal(e).pipe(this.measurementPipe).subscribe()}},{key:"onCreatePatientClick",value:function(e){this.orphanDataService.createPatient(e).pipe(this.measurementPipe).subscribe()}},{key:"measurementPipe",get:function(){var e=this;return Object(d.a)(Object(f.a)(function(){return e.getOrphanMeasurements()}))}}]),a}(p.a),$.\u0275fac=function(e){return new(e||$)(h.Ob(T),h.Ob(w.a))},$.\u0275cmp=h.Ib({type:$,selectors:[["ng-component"]],features:[h.xb],decls:4,vars:5,consts:[[1,"panel"],["nzTitle","Orphan measurements",1,"page-header"],[3,"data","displayColumns","totalCount","isLoading$","queryParamsChange"],[3,"ngClass","title",4,"ngFor","ngForOf"],[3,"ngClass","title"],[4,"ngIf"],[1,"table-cell__actions"],["nz-button","","nzType","link","nzTrigger","click","nz-dropdown","",3,"nzDropdownMenu","click"],["nz-icon","","nzType","icon:more","nzTheme","outline"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",1,"btn--menu-item",3,"click"],[1,"ant-btn-sm","ant-btn-link","ant-btn"],["nz-icon","","nzType","node-index","nzTheme","outline"],["nz-icon","","nzType","user-add","nzTheme","outline"]],template:function(e,t){1&e&&(h.Ub(0,"div",0),h.Pb(1,"nz-page-header",1),h.Ub(2,"app-table-wrapper",2),h.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e)}),h.Fc(3,x,41,21,"tr",3),h.Tb(),h.Tb()),2&e&&(h.Ab(2),h.mc("data",t.items)("displayColumns",t.displayColumns)("totalCount",t.totalCount)("isLoading$",t.isLoading$.asObservable()),h.Ab(1),h.mc("ngForOf",t.items))},directives:[C.a,I.a,_.n,U.i,_.m,U.b,_.o,O.a,z.a,A.d,A.b,P.a,A.e,k.c,k.d],pipes:[_.e],encapsulation:2}),$)}],q=((S=function e(){o(this,e)}).\u0275mod=h.Mb({type:S}),S.\u0275inj=h.Lb({factory:function(e){return new(e||S)},imports:[[b.h.forChild(R)],b.h]}),S),K=((L=function e(){o(this,e)}).\u0275mod=h.Mb({type:L}),L.\u0275inj=h.Lb({factory:function(e){return new(e||L)},imports:[[s.a,q,g]]}),L)}}])}();