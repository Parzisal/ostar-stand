!function(){function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,e)}function e(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var e,o=i(t);if(n){var r=i(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return a(this,e)}}function a(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function s(t,n,e){return n&&l(t.prototype,n),e&&l(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{YFAD:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var a=function(t){return t.male="Male",t.female="Female",t}({})},bb81:function(n,a,i){"use strict";i.d(a,"a",function(){return E});var r,l=i("fXoL"),u=i("EY2u"),p=i("HDdC"),d=i("2Vo4"),b=i("1G5W"),f=i("vkgz"),m=i("/uUt"),g=i("Kj3r"),v=i("eIep"),h=i("nYR2"),T=i("JIr8"),C=i("pLZG"),y=i("oaey"),_=i("CvgI"),O=i("UXun"),z=i("lJxs"),w=i("ovFC"),A=i("tk/3"),U=((r=function(){function t(n){c(this,t),this.http=n,this.options$=new d.a([]),this.totalCount$=new d.a(0),this.isLoadingMore$=new d.a(!1),this.isLoading$=new d.a(!0),this.filters={}}return s(t,[{key:"loadMoreOptions",value:function(t,n){var e=this;return this.options.length<this.totalCount?(this.isLoadingMore=!0,this.getOptionsRequest(t).pipe(Object(z.a)(function(t){e.totalCount=t.total_count;var a=n?t.items.map(function(t){return n(t)}):t.items;e.options=[].concat(o(e.options),o(a))}),Object(h.a)(function(){return e.isLoadingMore=!1}))):u.a}},{key:"getOptions",value:function(t,n){var e=this;return this.getOptionsRequest(t).pipe(Object(z.a)(function(t){e.totalCount=t.total_count,e.options=n?t.items.map(function(t){return n(t)}):t.items}),Object(h.a)(function(){return e.isLoading=!1}))}},{key:"getOptionsRequest",value:function(t){var n=Object(_.a)(Object.assign({limit:15,offset:this.options.length},this.filters));return this.http.get(t,{params:n})}},{key:"optionsAsObservable$",get:function(){return this.options$.asObservable()}},{key:"options",get:function(){return this.options$.value},set:function(t){this.options$.next(o(t))}},{key:"totalCount",get:function(){return this.totalCount$.value},set:function(t){this.totalCount$.next(t)}},{key:"isLoadingMore",get:function(){return this.isLoadingMore$.value},set:function(t){this.isLoadingMore$.next(t)}},{key:"isLoadingMoreAsObservable$",get:function(){return this.isLoadingMore$.pipe(Object(O.a)(1))}},{key:"isLoadingAsObservable$",get:function(){return this.isLoading$.pipe(Object(O.a)(1))}},{key:"isLoading",get:function(){return this.isLoading$.value},set:function(t){this.isLoading$.next(t)}}]),t}()).\u0275fac=function(t){return new(t||r)(l.Yb(A.c))},r.\u0275prov=l.Kb({token:r,factory:r.\u0275fac,providedIn:w.a}),r),$=i("zAKX"),P=i("3Pt+"),F=i("vxfF"),I=i("ofXK"),k=i("qAZ0"),D=i("QlLE");function S(t,n){if(1&t&&l.Pb(0,"nz-option",7),2&t){var e=n.$implicit,a=l.ec();l.mc("nzValue",e.id)("nzLabel",e[a.labelKey])("nzDisabled",a.optionDisabled(e.id))}}function x(t,n){1&t&&(l.Ub(0,"nz-option",8),l.Ub(1,"div",9),l.Pb(2,"nz-spin"),l.Ub(3,"span",10),l.Hc(4,"Searching..."),l.Tb(),l.Tb(),l.Tb())}function H(t,n){1&t&&(l.Ub(0,"div",14),l.Pb(1,"nz-spin"),l.Ub(2,"span"),l.Hc(3,"Loading data..."),l.Tb(),l.Tb())}function M(t,n){if(1&t&&(l.Ub(0,"div",12),l.Fc(1,H,4,0,"div",13),l.fc(2,"async"),l.Tb()),2&t){var e=l.ec(2),a=l.uc(10);l.Ab(1),l.mc("ngIf",l.gc(2,2,e.isLoadingMore$))("ngIfElse",a)}}function L(t,n){if(1&t&&l.Fc(0,M,3,4,"div",11),2&t){var e=l.ec();l.mc("ngIf",!e.isSearching&&e.totalCount>15&&"tags"!==e.mode)}}function j(t,n){if(1&t&&(l.Ub(0,"div",15),l.Hc(1),l.Tb()),2&t){var e=l.ec();l.Ab(1),l.Kc("",e.options.length," of ",e.totalCount,"")}}function R(t,n){if(1&t&&l.Pb(0,"nz-empty",16),2&t){var e=l.ec();l.mc("nzNotFoundContent",e.noDataText)}}var N,E=((N=function(n){t(i,n);var a=e(i);function i(t){var n;return c(this,i),(n=a.call(this)).selectService=t,n.labelKey="name",n.size="default",n.mode="default",n.filterName="name",n.canLoad=!0,n.loadOptions$=new p.a,n.valueChangedEvt=new l.n,n.searchChange$=new d.a(null),n}return s(i,[{key:"onScrollToBottom",value:function(){this.selectService.loadMoreOptions(this.url,this.transformFunc).pipe(Object(b.a)(this.destroyed)).subscribe()}},{key:"onSearch",value:function(t){(t||this.selectService.filters[this.filterName])&&(this.isSearching=!0,this.searchChange$.next(t))}},{key:"onOpenChange",value:function(t){!t&&this.selectService.filters[this.filterName]&&(this.selectService.filters[this.filterName]=null,this.selectService.options=[],this.getOptions())}},{key:"selectionValueChanged",value:function(t){t&&this.valueChangedEvt.emit(this.selectService.options.find(function(n){return n.id===t}))}},{key:"searchOptions",value:function(){var t=this;return this.searchChange$.asObservable().pipe(Object(f.a)(function(n){t.selectService.options=[],t.selectService.filters[t.filterName]=n}),Object(m.a)(),Object(g.a)(500),Object(v.a)(function(){return t.selectService.getOptions(t.url,t.transformFunc).pipe(Object(h.a)(function(){t.isSearching=!1,t.disabled=!1}),Object(T.a)(function(){return u.a}))}),Object(b.a)(this.destroyed))}},{key:"getOptions",value:function(){this.selectService.getOptions(this.url,this.transformFunc).pipe(Object(b.a)(this.destroyed)).subscribe()}},{key:"optionDisabled",value:function(t){return!(!this.disabledOptions||!this.disabledOptions.length)&&this.disabledOptions.map(function(t){return t.id}).includes(t)}},{key:"ngOnInit",value:function(){var t=this,n=this.control.value;n&&(this.selectService.filters.include=n),this.isLoading$=this.selectService.isLoadingAsObservable$,this.isLoadingMore$=this.selectService.isLoadingMoreAsObservable$,this.options$=this.selectService.optionsAsObservable$,this.canLoad&&this.searchOptions().subscribe(),this.loadOptions$.pipe(Object(f.a)(function(){t.disabled=!0,t.selectService.isLoading=!0}),Object(b.a)(this.destroyed),Object(C.a)(function(t){return!!t}),Object(v.a)(function(n){return n.forEach(function(n){return t.selectService.filters[n.key]=n.value}),t.canLoad=!0,t.searchOptions()})).subscribe()}},{key:"totalCount",get:function(){return this.selectService.totalCount}},{key:"options",get:function(){return this.selectService.options}}]),i}(y.a)).\u0275fac=function(t){return new(t||N)(l.Ob(U))},N.\u0275cmp=l.Ib({type:N,selectors:[["app-select"]],inputs:{control:"control",url:"url",labelKey:"labelKey",size:"size",disabled:"disabled",placeholder:"placeholder",mode:"mode",maxTagCount:"maxTagCount",filterName:"filterName",canLoad:"canLoad",disabledOptions:"disabledOptions",noDataText:"noDataText",transformFunc:"transformFunc",loadOptions$:"loadOptions$"},outputs:{valueChangedEvt:"valueChangedEvt"},features:[l.zb([U]),l.xb],decls:13,vars:20,consts:[["nzAllowClear","","nzServerSearch","","nzShowSearch","",3,"nzSize","nzPlaceHolder","formControl","nzLoading","nzDisabled","nzMode","nzMaxTagCount","nzDropdownRender","nzShowArrow","nzNotFoundContent","nzOnSearch","nzOpenChange","ngModelChange","nzScrollToBottom"],[3,"itemSize","maxBufferPx"],[3,"nzValue","nzLabel","nzDisabled",4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["loadingMoreOptionsTpl",""],["totalCountTpl",""],["noDataTpl",""],[3,"nzValue","nzLabel","nzDisabled"],["nzDisabled","","nzCustomContent",""],[1,"searching-option"],[1,"searching-option__text"],["class","dropdown-footer",4,"ngIf"],[1,"dropdown-footer"],["class","dropdown-footer__spinner",4,"ngIf","ngIfElse"],[1,"dropdown-footer__spinner"],[1,"dropdown-footer__total"],["nzNotFoundImage","simple",3,"nzNotFoundContent"]],template:function(t,n){if(1&t&&(l.Ub(0,"nz-select",0),l.bc("nzOnSearch",function(t){return n.onSearch(t)})("nzOpenChange",function(t){return n.onOpenChange(t)})("ngModelChange",function(t){return n.selectionValueChanged(t)})("nzScrollToBottom",function(){return n.onScrollToBottom()}),l.fc(1,"async"),l.fc(2,"async"),l.Ub(3,"cdk-virtual-scroll-viewport",1),l.Fc(4,S,1,3,"nz-option",2),l.fc(5,"async"),l.Tb(),l.Fc(6,x,5,0,"nz-option",3),l.Fc(7,L,1,1,"ng-template",null,4,l.Gc),l.Tb(),l.Fc(9,j,2,2,"ng-template",null,5,l.Gc),l.Fc(11,R,1,1,"ng-template",null,6,l.Gc)),2&t){var e=l.uc(8),a=l.uc(12);l.mc("nzSize",n.size)("nzPlaceHolder",n.placeholder)("formControl",n.control)("nzLoading",n.canLoad&&l.gc(1,14,n.isLoading$))("nzDisabled",n.disabled||l.gc(2,16,n.isLoading$))("nzMode",n.mode)("nzMaxTagCount",n.maxTagCount)("nzDropdownRender",e)("nzShowArrow",!0)("nzNotFoundContent",a),l.Ab(3),l.mc("itemSize",32)("maxBufferPx",160),l.Ab(1),l.mc("ngForOf",l.gc(5,18,n.options$)),l.Ab(2),l.mc("ngIf",n.isSearching)}},directives:[$.d,P.n,P.f,F.b,F.a,I.n,I.o,$.a,k.a,D.b],pipes:[I.b],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .ant-select-arrow{top:48%}.dropdown-footer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;align-items:center;justify-items:start;padding:4px 14px;color:#1890ff;border-top:1px solid #f0f0f0}.dropdown-footer__total[_ngcontent-%COMP%]{width:100%;grid-column:2/3;display:flex;justify-content:flex-end}.dropdown-footer__spinner[_ngcontent-%COMP%]{display:flex;align-items:center}.dropdown-footer__spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:18px}.dropdown-footer[_ngcontent-%COMP%]   nz-spin[_ngcontent-%COMP%]{margin-left:12px}.option[_ngcontent-%COMP%]{display:flex}.option[_ngcontent-%COMP%]   nz-spin[_ngcontent-%COMP%]{margin-left:.9em}.option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#1890ff;margin-left:1.1em}.searching-option[_ngcontent-%COMP%]{display:flex;align-items:center}.searching-option[_ngcontent-%COMP%]   nz-spin[_ngcontent-%COMP%]{margin-left:.8em}.searching-option__text[_ngcontent-%COMP%]{margin-left:1.2em}"],changeDetection:0}),N)},qjHY:function(n,a,i){"use strict";i.r(a),i.d(a,"ImportDataModule",function(){return jn});var r,l,u,p,d,b,f,m=i("PCNd"),g=i("tyNb"),v=i("2Vo4"),h=i("fXoL"),T=i("nYR2"),C=i("lJxs"),y=((r=function t(){c(this,t)}).\u0275mod=h.Mb({type:r}),r.\u0275inj=h.Lb({factory:function(t){return new(t||r)}}),r),_=i("tk/3"),O=((l=function(){function t(n){c(this,t),this.http=n,this.importedResults$=new v.a(null),this.inProgress$=new v.a(null)}return s(t,[{key:"uploadFile",value:function(t,n,e){var a=this;e||this.inProgress$.next(!0);var i=new FormData;return i.set("csv",new Blob([n],{type:"text/csv"}),n.name),i.set("save",""+e),this.http.post(t,i).pipe(Object(T.a)(function(){e||a.inProgress$.next(!1)}),Object(C.a)(function(t){return a.importedResults$.next(t)}))}},{key:"importedResults",set:function(t){this.importedResults$.next(t)}}]),t}()).\u0275fac=function(t){return new(t||l)(h.Yb(_.c))},l.\u0275prov=h.Kb({token:l,factory:l.\u0275fac,providedIn:y}),l),z=i("ILvI"),w=((d=function(n){t(i,n);var a=e(i);function i(t){var n;return c(this,i),(n=a.call(this,t)).title="Import patients",n.backRoute="patient-list",n.importDataType="patients",n}return s(i,[{key:"upload",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.uploadFile(Object(z.x)(t),n,e)}}]),i}(O)).\u0275fac=function(t){return new(t||d)(h.Yb(_.c))},d.\u0275prov=h.Kb({token:d,factory:d.\u0275fac,providedIn:y}),d),A=((p=function(n){t(i,n);var a=e(i);function i(t){var n;return c(this,i),(n=a.call(this,t)).title="Import doctors",n.backRoute="doctor-list",n.importDataType="doctors",n}return s(i,[{key:"upload",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.uploadFile(Object(z.h)(t),n,e)}}]),i}(O)).\u0275fac=function(t){return new(t||p)(h.Yb(_.c))},p.\u0275prov=h.Kb({token:p,factory:p.\u0275fac,providedIn:y}),p),U=((u=function(n){t(i,n);var a=e(i);function i(t){var n;return c(this,i),(n=a.call(this,t)).title="Import devices",n.backRoute="device-list",n.importDataType="devices",n}return s(i,[{key:"upload",value:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.uploadFile(Object(z.e)(t),n,e)}}]),i}(O)).\u0275fac=function(t){return new(t||u)(h.Yb(_.c))},u.\u0275prov=h.Kb({token:u,factory:u.\u0275fac,providedIn:y}),u),$=new h.q("ImportDataService"),P={provide:$,useFactory:function(t,n){switch(t.snapshot.children[0].data.type){case"patient":return new w(n);case"doctor":return new A(n);case"device":return new U(n)}},deps:[g.a,_.c]},F=i("mrSG"),I=i("oaey"),k=i("1G5W"),D=(b=function(n){t(i,n);var a=e(i);function i(t){var n;return c(this,i),(n=a.call(this)).importDataService=t,n.uploadResults={},n.importDataService.importedResults$.pipe(Object(k.a)(n.destroyed)).subscribe(function(t){n.data=t,t||n.clearCurrentData()}),n.inProgress$=n.importDataService.inProgress$.asObservable(),n}return s(i,[{key:"clearCurrentData",value:function(){for(var t in this.uploadResults)Object.prototype.hasOwnProperty.call(this.uploadResults,t)&&this.uploadResults[t].next(null)}},{key:"onDataChange",value:function(t,n){t.length&&this.uploadResults[n]&&this.uploadResults[n].next(o(t))}}]),i}(I.a),b=Object(F.b)([Object(F.d)(0,Object(h.p)($))],b)),S=i("oyxB"),x=i("1ReC"),H=i("ofXK"),M=i("rMZv"),L=i("SKKP"),j=i("pu9d"),R=((f=function(){function t(){c(this,t)}return s(t,[{key:"transform",value:function(t){return"object"==typeof t?t.join("; "):t}}]),t}()).\u0275fac=function(t){return new(t||f)},f.\u0275pipe=h.Nb({name:"joinArray",type:f,pure:!0}),f);function N(t,n){}function E(t,n){1&t&&h.Fc(0,N,0,0,"ng-template")}var G=function(t){return{tabTitle:"Valid",tabItemCount:t}};function Q(t,n){if(1&t&&h.Fc(0,E,1,0,void 0,9),2&t){var e=h.ec(),a=h.uc(20);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,G,null==e.data||null==e.data.valid?null:e.data.valid.length))}}function K(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.fc(9,"deviceType"),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(e.device_id),h.Ab(2),h.Ic(e.serial_number),h.Ab(2),h.Ic(e.sim_card_id),h.Ab(2),h.Ic(h.gc(9,4,e.device_type))}}function B(t,n){}function V(t,n){1&t&&h.Fc(0,B,0,0,"ng-template")}var Y=function(t){return{tabTitle:"Skipped",tabItemCount:t}};function q(t,n){if(1&t&&h.Fc(0,V,1,0,void 0,9),2&t){var e=h.ec(),a=h.uc(20);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,Y,null==e.data?null:e.data.skipped.length))}}function J(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.fc(9,"deviceType"),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(e.device_id),h.Ab(2),h.Ic(e.serial_number),h.Ab(2),h.Ic(e.sim_card_id),h.Ab(2),h.Ic(h.gc(9,4,e.device_type))}}function X(t,n){}function Z(t,n){1&t&&h.Fc(0,X,0,0,"ng-template")}var W=function(t){return{tabTitle:"Errors",tabItemCount:t}};function tt(t,n){if(1&t&&h.Fc(0,Z,1,0,void 0,9),2&t){var e=h.ec(),a=h.uc(20);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,W,null==e.data?null:e.data.errors.length))}}function nt(t,n){if(1&t&&(h.Ub(0,"div"),h.Hc(1),h.Ub(2,"span"),h.Hc(3),h.fc(4,"joinArray"),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(1),h.Jc(" ",e.key,": "),h.Ab(2),h.Ic(h.gc(4,2,e.value))}}function et(t,n){if(1&t&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&t){var e=n.$implicit,a=h.ec().$implicit;h.Ab(1),h.Ic(a[e.name])}}function at(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Fc(2,nt,5,4,"div",4),h.fc(3,"keyvalue"),h.Tb(),h.Ub(4,"td"),h.Hc(5),h.Tb(),h.Fc(6,et,2,1,"td",4),h.Tb()),2&t){var e=n.$implicit,a=h.ec();h.Ab(2),h.mc("ngForOf",h.gc(3,3,e.errors)),h.Ab(3),h.Ic(e.row_number),h.Ab(1),h.mc("ngForOf",a.errorsCsvDisplayColumns)}}var it=function(t){return[8,t]};function ot(t,n){if(1&t&&(h.Ub(0,"nz-badge",10),h.Ub(1,"span"),h.Hc(2),h.Tb(),h.Tb()),2&t){var e=n.tabTitle;h.mc("nzCount",n.tabItemCount)("nzOverflowCount",999)("nzOffset",h.pc(4,it,-6)),h.Ab(2),h.Ic(e)}}var rt,ct=((rt=function(n){t(i,n);var a=e(i);function i(t){var n,e;return c(this,i),(e=a.call(this,t)).deviceDisplayColumns=[{name:"Device type"},{name:"Device ID"},{name:"Serial number"},{name:"SIM card ID"}],e.errorsDisplayColumns=[{name:"Errors"},{name:"Row number"}],e.errorsCsvDisplayColumns=[{name:"Device type"},{name:"Device ID"},{name:"Serial Number"},{name:"SIM card ID"},{name:"SIM activation Date"},{name:"Test date"},{name:"Tracking number"},{name:"Ship date"},{name:"Carton weight"},{name:"Carton dimensions"}],e.uploadResults={valid$:new v.a(null),skipped$:new v.a(null),errors$:new v.a(null)},(n=e.errorsDisplayColumns).push.apply(n,o(e.errorsCsvDisplayColumns)),e}return i}(D)).\u0275fac=function(t){return new(t||rt)(h.Ob($))},rt.\u0275cmp=h.Ib({type:rt,selectors:[["app-imported-devices"]],features:[h.xb],decls:21,vars:30,consts:[["nzSize","large"],[3,"nzTitle"],["ubploadedTabTitleTpl",""],[3,"totalCount","allowQueryParams","frontPagination","data","isLoading$","displayColumns","dataChange"],[4,"ngFor","ngForOf"],["skippedTabTitleTpl",""],[3,"totalCount","data","allowQueryParams","frontPagination","isLoading$","displayColumns","dataChange"],["errorTabTitleTpl",""],["tabTitleContent",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzCount","nzOverflowCount","nzOffset"]],template:function(t,n){if(1&t&&(h.Ub(0,"nz-tabset",0),h.Ub(1,"nz-tab",1),h.Fc(2,Q,1,4,"ng-template",null,2,h.Gc),h.Ub(4,"app-table-wrapper",3),h.bc("dataChange",function(t){return n.onDataChange(t,"valid$")}),h.Fc(5,K,10,6,"tr",4),h.fc(6,"async"),h.Tb(),h.Tb(),h.Ub(7,"nz-tab",1),h.Fc(8,q,1,4,"ng-template",null,5,h.Gc),h.Ub(10,"app-table-wrapper",6),h.bc("dataChange",function(t){return n.onDataChange(t,"skipped$")}),h.Fc(11,J,10,6,"tr",4),h.fc(12,"async"),h.Tb(),h.Tb(),h.Ub(13,"nz-tab",1),h.Fc(14,tt,1,4,"ng-template",null,7,h.Gc),h.Ub(16,"app-table-wrapper",6),h.bc("dataChange",function(t){return n.onDataChange(t,"errors$")}),h.Fc(17,at,7,5,"tr",4),h.fc(18,"async"),h.Tb(),h.Tb(),h.Tb(),h.Fc(19,ot,3,6,"ng-template",null,8,h.Gc)),2&t){var e=h.uc(3),a=h.uc(9),i=h.uc(15);h.Ab(1),h.mc("nzTitle",e),h.Ab(3),h.mc("totalCount",null==n.data||null==n.data.valid?null:n.data.valid.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==n.data?null:n.data.valid)("isLoading$",n.inProgress$)("displayColumns",n.deviceDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(6,24,n.uploadResults.valid$)),h.Ab(2),h.mc("nzTitle",a),h.Ab(3),h.mc("totalCount",null==n.data?null:n.data.skipped.length)("data",null==n.data?null:n.data.skipped)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",n.inProgress$)("displayColumns",n.deviceDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(12,26,n.uploadResults.skipped$)),h.Ab(2),h.mc("nzTitle",i),h.Ab(3),h.mc("totalCount",null==n.data?null:n.data.errors.length)("data",null==n.data?null:n.data.errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",n.inProgress$)("displayColumns",n.errorsDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(18,28,n.uploadResults.errors$))}},directives:[S.c,S.a,x.a,H.n,H.t,M.i,M.b,L.a],pipes:[H.b,j.a,H.i,R],encapsulation:2,changeDetection:0}),rt);function lt(t,n){}function st(t,n){1&t&&h.Fc(0,lt,0,0,"ng-template")}var ut=function(t){return{tabTitle:"Valid",tabItemCount:t}};function pt(t,n){if(1&t&&h.Fc(0,st,1,0,void 0,9),2&t){var e=h.ec(),a=h.uc(20);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,ut,null==e.data||null==e.data.valid?null:e.data.valid.length))}}function dt(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.Tb(),h.Ub(9,"td"),h.Hc(10),h.Tb(),h.Ub(11,"td"),h.Hc(12),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(e.npi),h.Ab(2),h.Ic(e.first_name),h.Ab(2),h.Ic(e.middle_name),h.Ab(2),h.Ic(e.last_name),h.Ab(2),h.Ic(e.email),h.Ab(2),h.Ic(e.phone)}}function bt(t,n){}function ft(t,n){1&t&&h.Fc(0,bt,0,0,"ng-template")}var mt=function(t){return{tabTitle:"Skipped",tabItemCount:t}};function gt(t,n){if(1&t&&h.Fc(0,ft,1,0,void 0,9),2&t){var e=h.ec(),a=h.uc(20);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,mt,null==e.data?null:e.data.skipped.length))}}function vt(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.Tb(),h.Ub(9,"td"),h.Hc(10),h.Tb(),h.Ub(11,"td"),h.Hc(12),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(e.npi),h.Ab(2),h.Ic(e.first_name),h.Ab(2),h.Ic(e.middle_name),h.Ab(2),h.Ic(e.last_name),h.Ab(2),h.Ic(e.email),h.Ab(2),h.Ic(e.phone)}}function ht(t,n){}function Tt(t,n){1&t&&h.Fc(0,ht,0,0,"ng-template")}var Ct=function(t){return{tabTitle:"Errors",tabItemCount:t}};function yt(t,n){if(1&t&&h.Fc(0,Tt,1,0,void 0,9),2&t){var e=h.ec(),a=h.uc(20);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,Ct,null==e.data?null:e.data.errors.length))}}function _t(t,n){if(1&t&&(h.Ub(0,"div"),h.Hc(1),h.Ub(2,"span"),h.Hc(3),h.fc(4,"joinArray"),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(1),h.Jc(" ",e.key,": "),h.Ab(2),h.Ic(h.gc(4,2,e.value))}}function Ot(t,n){if(1&t&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&t){var e=n.$implicit,a=h.ec().$implicit;h.Ab(1),h.Ic(a[e.name])}}function zt(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Fc(2,_t,5,4,"div",4),h.fc(3,"keyvalue"),h.Tb(),h.Ub(4,"td"),h.Hc(5),h.Tb(),h.Fc(6,Ot,2,1,"td",4),h.Tb()),2&t){var e=n.$implicit,a=h.ec();h.Ab(2),h.mc("ngForOf",h.gc(3,3,e.errors)),h.Ab(3),h.Ic(e.row_number),h.Ab(1),h.mc("ngForOf",a.errorsCsvDisplayColumns)}}var wt=function(t){return[8,t]};function At(t,n){if(1&t&&(h.Ub(0,"nz-badge",10),h.Ub(1,"span"),h.Hc(2),h.Tb(),h.Tb()),2&t){var e=n.tabTitle;h.mc("nzCount",n.tabItemCount)("nzOverflowCount",999)("nzOffset",h.pc(4,wt,-6)),h.Ab(2),h.Ic(e)}}var Ut,$t=((Ut=function(n){t(i,n);var a=e(i);function i(t){var n,e;return c(this,i),(e=a.call(this,t)).doctorDisplayColumns=[{name:"NPI"},{name:"First name"},{name:"Middle name"},{name:"Last name"},{name:"Email"},{name:"Phone"}],e.errorsDisplayColumns=[{name:"Errors"},{name:"Row number"}],e.errorsCsvDisplayColumns=[{name:"NPI"},{name:"First Name"},{name:"Middle Name"},{name:"Last Name"},{name:"Email"},{name:"Phone"}],e.uploadResults={valid$:new v.a(null),skipped$:new v.a(null),errors$:new v.a(null)},(n=e.errorsDisplayColumns).push.apply(n,o(e.errorsCsvDisplayColumns)),e}return i}(D)).\u0275fac=function(t){return new(t||Ut)(h.Ob($))},Ut.\u0275cmp=h.Ib({type:Ut,selectors:[["app-imported-doctors"]],features:[h.xb],decls:21,vars:30,consts:[["nzSize","large"],[3,"nzTitle"],["ubploadedTabTitleTpl",""],[3,"totalCount","allowQueryParams","frontPagination","data","isLoading$","displayColumns","dataChange"],[4,"ngFor","ngForOf"],["skippedTabTitleTpl",""],[3,"totalCount","data","allowQueryParams","frontPagination","isLoading$","displayColumns","dataChange"],["errorTabTitleTpl",""],["tabTitleContent",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzCount","nzOverflowCount","nzOffset"]],template:function(t,n){if(1&t&&(h.Ub(0,"nz-tabset",0),h.Ub(1,"nz-tab",1),h.Fc(2,pt,1,4,"ng-template",null,2,h.Gc),h.Ub(4,"app-table-wrapper",3),h.bc("dataChange",function(t){return n.onDataChange(t,"valid$")}),h.Fc(5,dt,13,6,"tr",4),h.fc(6,"async"),h.Tb(),h.Tb(),h.Ub(7,"nz-tab",1),h.Fc(8,gt,1,4,"ng-template",null,5,h.Gc),h.Ub(10,"app-table-wrapper",6),h.bc("dataChange",function(t){return n.onDataChange(t,"skipped$")}),h.Fc(11,vt,13,6,"tr",4),h.fc(12,"async"),h.Tb(),h.Tb(),h.Ub(13,"nz-tab",1),h.Fc(14,yt,1,4,"ng-template",null,7,h.Gc),h.Ub(16,"app-table-wrapper",6),h.bc("dataChange",function(t){return n.onDataChange(t,"errors$")}),h.Fc(17,zt,7,5,"tr",4),h.fc(18,"async"),h.Tb(),h.Tb(),h.Tb(),h.Fc(19,At,3,6,"ng-template",null,8,h.Gc)),2&t){var e=h.uc(3),a=h.uc(9),i=h.uc(15);h.Ab(1),h.mc("nzTitle",e),h.Ab(3),h.mc("totalCount",null==n.data||null==n.data.valid?null:n.data.valid.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==n.data?null:n.data.valid)("isLoading$",n.inProgress$)("displayColumns",n.doctorDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(6,24,n.uploadResults.valid$)),h.Ab(2),h.mc("nzTitle",a),h.Ab(3),h.mc("totalCount",null==n.data?null:n.data.skipped.length)("data",null==n.data?null:n.data.skipped)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",n.inProgress$)("displayColumns",n.doctorDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(12,26,n.uploadResults.skipped$)),h.Ab(2),h.mc("nzTitle",i),h.Ab(3),h.mc("totalCount",null==n.data?null:n.data.errors.length)("data",null==n.data?null:n.data.errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",n.inProgress$)("displayColumns",n.errorsDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(18,28,n.uploadResults.errors$))}},directives:[S.c,S.a,x.a,H.n,H.t,M.i,M.b,L.a],pipes:[H.b,H.i,R],encapsulation:2,changeDetection:0}),Ut),Pt=i("e5ZD");function Ft(t,n){}function It(t,n){1&t&&h.Fc(0,Ft,0,0,"ng-template")}var kt=function(t){return{tabTitle:"Valid",tabItemCount:t}};function Dt(t,n){if(1&t&&h.Fc(0,It,1,0,void 0,13),2&t){var e=h.ec(2),a=h.uc(6);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,kt,null==e.data||null==e.data.valid_patients?null:e.data.valid_patients.length))}}function St(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.Tb(),h.Ub(9,"td"),h.Hc(10),h.fc(11,"date"),h.Tb(),h.Ub(12,"td"),h.Hc(13),h.fc(14,"sex"),h.Tb(),h.Ub(15,"td"),h.Hc(16),h.Tb(),h.Ub(17,"td"),h.Hc(18),h.Tb(),h.Ub(19,"td"),h.Hc(20),h.Tb(),h.Ub(21,"td"),h.Hc(22),h.Tb(),h.Ub(23,"td"),h.Hc(24),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(e.patient_id),h.Ab(2),h.Ic(e.first_name),h.Ab(2),h.Ic(e.middle_name),h.Ab(2),h.Ic(e.last_name),h.Ab(2),h.Ic(h.hc(11,13,e.birth_date,"mediumDate")),h.Ab(3),h.Ic(h.gc(14,16,e.sex)),h.Ab(3),h.Ic(e.email),h.Ab(2),h.Ic(e.phone),h.Ab(2),h.Ic(e.address),h.Ab(2),h.Lc("",null==e.doctor?null:e.doctor.first_name," ",null==e.doctor?null:e.doctor.last_name," - ",null==e.doctor?null:e.doctor.npi,""),h.Ab(2),h.Ic(e.notes)}}function xt(t,n){}function Ht(t,n){1&t&&h.Fc(0,xt,0,0,"ng-template")}var Mt=function(t){return{tabTitle:"Skipped",tabItemCount:t}};function Lt(t,n){if(1&t&&h.Fc(0,Ht,1,0,void 0,13),2&t){var e=h.ec(2),a=h.uc(6);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,Mt,null==e.data||null==e.data.skipped_patients?null:e.data.skipped_patients.length))}}function jt(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.Tb(),h.Ub(9,"td"),h.Hc(10),h.fc(11,"date"),h.Tb(),h.Ub(12,"td"),h.Hc(13),h.fc(14,"sex"),h.Tb(),h.Ub(15,"td"),h.Hc(16),h.Tb(),h.Ub(17,"td"),h.Hc(18),h.Tb(),h.Ub(19,"td"),h.Hc(20),h.Tb(),h.Ub(21,"td"),h.Hc(22),h.Tb(),h.Ub(23,"td"),h.Hc(24),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(e.patient_id),h.Ab(2),h.Ic(e.first_name),h.Ab(2),h.Ic(e.middle_name),h.Ab(2),h.Ic(e.last_name),h.Ab(2),h.Ic(h.hc(11,13,e.birth_date,"mediumDate")),h.Ab(3),h.Ic(h.gc(14,16,e.sex)),h.Ab(3),h.Ic(e.email),h.Ab(2),h.Ic(e.phone),h.Ab(2),h.Ic(e.address),h.Ab(2),h.Lc("",null==e.doctor?null:e.doctor.first_name," ",null==e.doctor?null:e.doctor.last_name," - ",null==e.doctor?null:e.doctor.npi,""),h.Ab(2),h.Ic(e.notes)}}function Rt(t,n){}function Nt(t,n){1&t&&h.Fc(0,Rt,0,0,"ng-template")}var Et=function(t){return{tabTitle:"Errors",tabItemCount:t}};function Gt(t,n){if(1&t&&h.Fc(0,Nt,1,0,void 0,13),2&t){var e=h.ec(2),a=h.uc(6);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,Et,null==e.data||null==e.data.patients_errors?null:e.data.patients_errors.length))}}function Qt(t,n){if(1&t&&(h.Ub(0,"div"),h.Hc(1),h.Ub(2,"span"),h.Hc(3),h.fc(4,"joinArray"),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(1),h.Jc(" ",e.key,": "),h.Ab(2),h.Ic(h.gc(4,2,e.value))}}function Kt(t,n){if(1&t&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&t){var e=n.$implicit,a=h.ec().$implicit;h.Ab(1),h.Ic(a[e.name])}}function Bt(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Fc(2,Qt,5,4,"div",9),h.fc(3,"keyvalue"),h.Tb(),h.Ub(4,"td"),h.Hc(5),h.Tb(),h.Fc(6,Kt,2,1,"td",9),h.Tb()),2&t){var e=n.$implicit,a=h.ec(2);h.Ab(2),h.mc("ngForOf",h.gc(3,3,e.errors)),h.Ab(3),h.Ic(e.row_number),h.Ab(1),h.mc("ngForOf",a.errorsCsvDisplayColumns)}}function Vt(t,n){if(1&t){var e=h.Vb();h.Ub(0,"nz-tabset",5),h.Ub(1,"nz-tab",6),h.Fc(2,Dt,1,4,"ng-template",null,7,h.Gc),h.Ub(4,"app-table-wrapper",8),h.bc("dataChange",function(t){return h.vc(e),h.ec().onDataChange(t,"valid_patients$")}),h.Fc(5,St,25,18,"tr",9),h.fc(6,"async"),h.Tb(),h.Tb(),h.Ub(7,"nz-tab",6),h.Fc(8,Lt,1,4,"ng-template",null,10,h.Gc),h.Ub(10,"app-table-wrapper",11),h.bc("dataChange",function(t){return h.vc(e),h.ec().onDataChange(t,"skipped_patients$")}),h.Fc(11,jt,25,18,"tr",9),h.fc(12,"async"),h.Tb(),h.Tb(),h.Ub(13,"nz-tab",6),h.Fc(14,Gt,1,4,"ng-template",null,12,h.Gc),h.Ub(16,"app-table-wrapper",11),h.bc("dataChange",function(t){return h.vc(e),h.ec().onDataChange(t,"patients_errors$")}),h.Fc(17,Bt,7,5,"tr",9),h.fc(18,"async"),h.Tb(),h.Tb(),h.Tb()}if(2&t){var a=h.uc(3),i=h.uc(9),o=h.uc(15),r=h.ec();h.Ab(1),h.mc("nzTitle",a),h.Ab(3),h.mc("totalCount",null==r.data||null==r.data.valid_patients?null:r.data.valid_patients.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==r.data?null:r.data.valid_patients)("isLoading$",r.inProgress$)("displayColumns",r.patientsDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(6,24,r.uploadResults.valid_patients$)),h.Ab(2),h.mc("nzTitle",i),h.Ab(3),h.mc("totalCount",null==r.data||null==r.data.skipped_patients?null:r.data.skipped_patients.length)("data",null==r.data?null:r.data.skipped_patients)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",r.inProgress$)("displayColumns",r.patientsDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(12,26,r.uploadResults.skipped_patients$)),h.Ab(2),h.mc("nzTitle",o),h.Ab(3),h.mc("totalCount",null==r.data||null==r.data.patients_errors?null:r.data.patients_errors.length)("data",null==r.data?null:r.data.patients_errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",r.inProgress$)("displayColumns",r.errorsDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(18,28,r.uploadResults.patients_errors$))}}function Yt(t,n){}function qt(t,n){1&t&&h.Fc(0,Yt,0,0,"ng-template")}function Jt(t,n){if(1&t&&h.Fc(0,qt,1,0,void 0,13),2&t){var e=h.ec(2),a=h.uc(6);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,kt,null==e.data||null==e.data.valid_orders?null:e.data.valid_orders.length))}}function Xt(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.fc(7,"deviceType"),h.Tb(),h.Ub(8,"td"),h.Hc(9),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(null==e.practice?null:e.practice.name),h.Ab(2),h.Lc("",e.patient.first_name," ",e.patient.middle_name," ",e.patient.last_name,""),h.Ab(2),h.Ic(h.gc(7,6,e.device_type)),h.Ab(3),h.Ic(e.address)}}function Zt(t,n){}function Wt(t,n){1&t&&h.Fc(0,Zt,0,0,"ng-template")}function tn(t,n){if(1&t&&h.Fc(0,Wt,1,0,void 0,13),2&t){var e=h.ec(2),a=h.uc(6);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,Mt,null==e.data||null==e.data.skipped_orders?null:e.data.skipped_orders.length))}}function nn(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.fc(7,"deviceType"),h.Tb(),h.Ub(8,"td"),h.Hc(9),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(2),h.Ic(null==e.practice?null:e.practice.name),h.Ab(2),h.Lc("",e.patient.first_name," ",e.patient.middle_name," ",e.patient.last_name,""),h.Ab(2),h.Ic(h.gc(7,6,e.device_type)),h.Ab(3),h.Ic(e.address)}}function en(t,n){}function an(t,n){1&t&&h.Fc(0,en,0,0,"ng-template")}function on(t,n){if(1&t&&h.Fc(0,an,1,0,void 0,13),2&t){var e=h.ec(2),a=h.uc(6);h.mc("ngTemplateOutlet",a)("ngTemplateOutletContext",h.pc(2,Et,null==e.data||null==e.data.orders_errors?null:e.data.orders_errors.length))}}function rn(t,n){if(1&t&&(h.Ub(0,"div"),h.Hc(1),h.Ub(2,"span"),h.Hc(3),h.fc(4,"joinArray"),h.Tb(),h.Tb()),2&t){var e=n.$implicit;h.Ab(1),h.Jc(" ",e.key,": "),h.Ab(2),h.Ic(h.gc(4,2,e.value))}}function cn(t,n){if(1&t&&(h.Ub(0,"td"),h.Hc(1),h.Tb()),2&t){var e=n.$implicit,a=h.ec().$implicit;h.Ab(1),h.Ic(a[e.name])}}function ln(t,n){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Fc(2,rn,5,4,"div",9),h.fc(3,"keyvalue"),h.Tb(),h.Ub(4,"td"),h.Hc(5),h.Tb(),h.Fc(6,cn,2,1,"td",9),h.Tb()),2&t){var e=n.$implicit,a=h.ec(2);h.Ab(2),h.mc("ngForOf",h.gc(3,3,e.errors)),h.Ab(3),h.Ic(e.row_number),h.Ab(1),h.mc("ngForOf",a.errorsCsvDisplayColumns)}}function sn(t,n){if(1&t){var e=h.Vb();h.Ub(0,"nz-tabset",5),h.Ub(1,"nz-tab",6),h.Fc(2,Jt,1,4,"ng-template",null,7,h.Gc),h.Ub(4,"app-table-wrapper",8),h.bc("dataChange",function(t){return h.vc(e),h.ec().onDataChange(t,"valid_orders$")}),h.Fc(5,Xt,10,8,"tr",9),h.fc(6,"async"),h.Tb(),h.Tb(),h.Ub(7,"nz-tab",6),h.Fc(8,tn,1,4,"ng-template",null,10,h.Gc),h.Ub(10,"app-table-wrapper",11),h.bc("dataChange",function(t){return h.vc(e),h.ec().onDataChange(t,"skipped_orders$")}),h.Fc(11,nn,10,8,"tr",9),h.fc(12,"async"),h.Tb(),h.Tb(),h.Ub(13,"nz-tab",6),h.Fc(14,on,1,4,"ng-template",null,12,h.Gc),h.Ub(16,"app-table-wrapper",11),h.bc("dataChange",function(t){return h.vc(e),h.ec().onDataChange(t,"orders_errors$")}),h.Fc(17,ln,7,5,"tr",9),h.fc(18,"async"),h.Tb(),h.Tb(),h.Tb()}if(2&t){var a=h.uc(3),i=h.uc(9),o=h.uc(15),r=h.ec();h.Ab(1),h.mc("nzTitle",a),h.Ab(3),h.mc("totalCount",null==r.data||null==r.data.valid_orders?null:r.data.valid_orders.length)("allowQueryParams",!1)("frontPagination",!0)("data",null==r.data?null:r.data.valid_orders)("isLoading$",r.inProgress$)("displayColumns",r.ordersDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(6,24,r.uploadResults.valid_orders$)),h.Ab(2),h.mc("nzTitle",i),h.Ab(3),h.mc("totalCount",null==r.data||null==r.data.skipped_orders?null:r.data.skipped_orders.length)("data",null==r.data?null:r.data.skipped_orders)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",r.inProgress$)("displayColumns",r.ordersDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(12,26,r.uploadResults.skipped_orders$)),h.Ab(2),h.mc("nzTitle",o),h.Ab(3),h.mc("totalCount",null==r.data||null==r.data.orders_errors?null:r.data.orders_errors.length)("data",null==r.data?null:r.data.orders_errors)("allowQueryParams",!1)("frontPagination",!0)("isLoading$",r.inProgress$)("displayColumns",r.errorsDisplayColumns),h.Ab(1),h.mc("ngForOf",h.gc(18,28,r.uploadResults.errors$))}}var un=function(t){return[8,t]};function pn(t,n){if(1&t&&(h.Ub(0,"nz-badge",14),h.Ub(1,"span"),h.Hc(2),h.Tb(),h.Tb()),2&t){var e=n.tabTitle;h.mc("nzCount",n.tabItemCount)("nzOverflowCount",999)("nzOffset",h.pc(4,un,-6)),h.Ab(2),h.Ic(e)}}var dn,bn=((dn=function(n){t(i,n);var a=e(i);function i(t){var n,e;return c(this,i),(e=a.call(this,t)).patientsDisplayColumns=[{name:"Patient ID"},{name:"First name"},{name:"Middle name"},{name:"Last name"},{name:"Birthdate"},{name:"Sex"},{name:"Email"},{name:"Phone"},{name:"Address"},{name:"Doctor"},{name:"Notes"}],e.ordersDisplayColumns=[{name:"Practice"},{name:"Patient"},{name:"Device type"},{name:"Address"}],e.errorsDisplayColumns=[{name:"Errors"},{name:"Row number"}],e.errorsCsvDisplayColumns=[{name:"First Name"},{name:"Middle Name"},{name:"Last Name"},{name:"Birth Date"},{name:"Sex"},{name:"Phone"},{name:"E-Mail"},{name:"Address"},{name:"Doctor NPI"},{name:"Type of device"},{name:"Notes"}],e.uploadResults={valid_patients$:new v.a(null),skipped_patients$:new v.a(null),patients_errors$:new v.a(null),valid_orders$:new v.a(null),skipped_orders$:new v.a(null),orders_errors$:new v.a(null)},(n=e.errorsDisplayColumns).push.apply(n,o(e.errorsCsvDisplayColumns)),e}return i}(D)).\u0275fac=function(t){return new(t||dn)(h.Ob($))},dn.\u0275cmp=h.Ib({type:dn,selectors:[["app-imported-patients"]],features:[h.xb],decls:7,vars:0,consts:[["nzSize","large",1,"main-tabset"],["nzTitle","Patients"],["nz-tab",""],["nzTitle","Orders"],["tabTitleContent",""],["nzSize","large"],[3,"nzTitle"],["ubploadedTabTitleTpl",""],[3,"totalCount","allowQueryParams","frontPagination","data","isLoading$","displayColumns","dataChange"],[4,"ngFor","ngForOf"],["skippedTabTitleTpl",""],[3,"totalCount","data","allowQueryParams","frontPagination","isLoading$","displayColumns","dataChange"],["errorTabTitleTpl",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzCount","nzOverflowCount","nzOffset"]],template:function(t,n){1&t&&(h.Ub(0,"nz-tabset",0),h.Ub(1,"nz-tab",1),h.Fc(2,Vt,19,30,"ng-template",2),h.Tb(),h.Ub(3,"nz-tab",3),h.Fc(4,sn,19,30,"ng-template",2),h.Tb(),h.Tb(),h.Fc(5,pn,3,6,"ng-template",null,4,h.Gc))},directives:[S.c,S.a,S.b,x.a,H.n,H.t,M.i,M.b,L.a],pipes:[H.b,H.e,Pt.a,H.i,R,j.a],styles:[".main-tabset[_ngcontent-%COMP%] >   .ant-tabs-bar{margin:0!important}"],changeDetection:0}),dn),fn=i("3Pt+"),mn=i("bNXi"),gn=i("jPNr"),vn=i("bb81"),hn=i("D9mS"),Tn=i("OzZK"),Cn=i("RwU8"),yn=i("C2AL"),_n=i("5vDB"),On=i("FwiY");function zn(t,n){1&t&&(h.Sb(0),h.Ub(1,"p",16),h.Hc(2,"Click or drag file to this area to upload"),h.Tb(),h.Ub(3,"p",17),h.Hc(4,"Support for a single csv file upload only"),h.Tb(),h.Rb())}function wn(t,n){1&t&&(h.Sb(0),h.Ub(1,"p",16),h.Hc(2,"Select a practice first"),h.Tb(),h.Rb())}function An(t,n){if(1&t&&(h.Ub(0,"div"),h.Ub(1,"p",14),h.Pb(2,"i",15),h.Tb(),h.Fc(3,zn,5,0,"ng-container",8),h.Fc(4,wn,3,0,"ng-container",8),h.Tb()),2&t){var e=h.ec();h.Ab(3),h.mc("ngIf",e.practiceControl.valid),h.Ab(1),h.mc("ngIf",!e.practiceControl.valid)}}function Un(t,n){if(1&t&&h.Pb(0,"i",26),2&t){var e=h.ec(3);h.mc("nzTwotoneColor",e.uploadStatuses.error?"#ff4d4f":"#1890ff")}}function $n(t,n){1&t&&h.Pb(0,"i",27)}var Pn=function(t){return{"uploader-preview__wrapper--error":t}};function Fn(t,n){if(1&t){var e=h.Vb();h.Sb(0),h.Ub(1,"div",18),h.Ub(2,"div",19),h.Ub(3,"div",20),h.Fc(4,Un,1,1,"i",21),h.Fc(5,$n,1,0,"i",22),h.fc(6,"async"),h.Ub(7,"span"),h.Hc(8),h.Tb(),h.Ub(9,"div",23),h.Ub(10,"button",24),h.bc("click",function(){return h.vc(e),h.ec(2).onRemoveClick()}),h.Pb(11,"i",25),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Tb(),h.Rb()}if(2&t){var a=h.ec(2);h.Ab(2),h.mc("ngClass",h.pc(6,Pn,a.uploadStatuses.error)),h.Ab(2),h.mc("ngIf",a.uploadStatuses.success||a.uploadStatuses.error),h.Ab(1),h.mc("ngIf",h.gc(6,4,a.uploadStatuses.inProgress$)),h.Ab(3),h.Ic(a.file.name)}}function In(t,n){if(1&t&&h.Fc(0,Fn,12,8,"ng-container",8),2&t){var e=h.ec();h.mc("ngIf",e.uploadStatuses.started)}}var kn,Dn,Sn,xn=function(t){return{"import-settings__upload--disabled":t}},Hn=[{path:"",redirectTo:"/",pathMatch:"full"},{path:"",component:(kn=function(n){t(i,n);var a=e(i);function i(t,n,e){var o;return c(this,i),(o=a.call(this)).importDataService=t,o.router=n,o.notifService=e,o.loadOptions$=new v.a(null),o.practiceUrl=z.C,o.practiceControl=new fn.e("",[fn.s.required]),o.onUpload=function(t){return o.uploadStatuses.started=!0,o.importDataService.upload(o.practiceControl.value,t.file).pipe(Object(k.a)(o.destroyed)).subscribe(function(){return o.uploadStatuses.success=!0},function(){return o.uploadStatuses.error=!0})},o}return s(i,[{key:"practiceValueChanged",value:function(t){this.loadOptions$.next({key:"practice",value:t.name})}},{key:"onBackClick",value:function(){this.router.navigate([this.importDataService.backRoute])}},{key:"onRemoveClick",value:function(){for(var t in this.uploadStatuses)Object.prototype.hasOwnProperty.call(this.uploadStatuses,t)&&"inProgress$"!==t&&(this.uploadStatuses[t]=null);this.importDataService.importedResults=null,this.file=null}},{key:"onSaveClick",value:function(){var t=this;this.isSaving=!0,this.importDataService.upload(this.practiceControl.value,this.file,!0).pipe(Object(k.a)(this.destroyed),Object(T.a)(function(){return t.isSaving=!1})).subscribe(function(){t.uploadStatuses.success=!0,t.notifService.success("Success","Data successfully uploaded",{nzDuration:7e3}),t.onRemoveClick()},function(){return t.uploadStatuses.success=!1})}},{key:"onFileChange",value:function(t){this.file=t.file.originFileObj}},{key:"ngOnInit",value:function(){this.title=this.importDataService.title,this.uploadStatuses={success:null,started:null,inProgress$:this.importDataService.inProgress$.asObservable(),error:null}}}]),i}(I.a),kn.\u0275fac=function(t){return new(t||kn)(h.Ob($),h.Ob(g.e),h.Ob(mn.b))},kn.\u0275cmp=h.Ib({type:kn,selectors:[["app-import-data"]],features:[h.zb([P]),h.xb],decls:20,vars:12,consts:[[1,"panel"],["nzBackIcon","",1,"page-header",3,"nzTitle","nzBack"],[1,"container"],[1,"import-settings"],[1,"import-settings__practice"],["placeholder","Search and select practice",3,"control","url","valueChangedEvt"],[1,"import-settings__upload",3,"ngClass"],["nzType","drag","nzAccept",".csv",3,"nzFileListRender","nzDisabled","nzCustomRequest","nzChange"],[4,"ngIf"],[1,"import-settings__save"],["nz-button","","nzType","primary",1,"import-settings__save-btn",3,"nzLoading","disabled","click"],[1,"file-content"],["nzText","Data validation","nzOrientation","left",1,"large"],["fileListTpl",""],[1,"ant-upload-drag-icon"],["nz-icon","","nzType","inbox"],[1,"ant-upload-text"],[1,"ant-upload-hint"],[1,"uploader-preview"],[1,"uploader-preview__wrapper",3,"ngClass"],[1,"uploader-preview__item"],["nz-icon","","nzType","file","nzTheme","twotone","class","uploader-preview__item__icon",3,"nzTwotoneColor",4,"ngIf"],["nz-icon","","nzType","loading","nzTheme","outline","class","uploader-preview__item__icon",4,"ngIf"],[1,"uploader-preview__item__remove"],["nz-button","","nzType","link",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-icon","","nzType","file","nzTheme","twotone",1,"uploader-preview__item__icon",3,"nzTwotoneColor"],["nz-icon","","nzType","loading","nzTheme","outline",1,"uploader-preview__item__icon"]],template:function(t,n){if(1&t&&(h.Ub(0,"div",0),h.Ub(1,"nz-page-header",1),h.bc("nzBack",function(){return n.onBackClick()}),h.Tb(),h.Ub(2,"div",2),h.Ub(3,"section",3),h.Ub(4,"div",4),h.Hc(5," Practice: "),h.Ub(6,"app-select",5),h.bc("valueChangedEvt",function(t){return n.practiceValueChanged(t)}),h.Tb(),h.Tb(),h.Ub(7,"div",6),h.Ub(8,"nz-upload",7),h.bc("nzChange",function(t){return n.onFileChange(t)}),h.Fc(9,An,5,2,"div",8),h.Tb(),h.Tb(),h.Ub(10,"div",9),h.Ub(11,"span"),h.Hc(12,"Only valid data will be saved"),h.Tb(),h.Ub(13,"button",10),h.bc("click",function(){return n.onSaveClick()}),h.Hc(14,"Save"),h.Tb(),h.Tb(),h.Tb(),h.Ub(15,"section",11),h.Pb(16,"nz-divider",12),h.Pb(17,"router-outlet"),h.Tb(),h.Tb(),h.Tb(),h.Fc(18,In,1,1,"ng-template",null,13,h.Gc)),2&t){var e=h.uc(19);h.Ab(1),h.mc("nzTitle",n.title),h.Ab(5),h.mc("control",n.practiceControl)("url",n.practiceUrl),h.Ab(1),h.mc("ngClass",h.pc(10,xn,!n.practiceControl.valid&&!n.file)),h.Ab(1),h.mc("nzFileListRender",e)("nzDisabled",!n.practiceControl.valid)("nzCustomRequest",n.onUpload),h.Ab(1),h.mc("ngIf",!n.uploadStatuses.started),h.Ab(4),h.mc("nzLoading",n.isSaving)("disabled",!n.practiceControl.valid||!n.file)}},directives:[gn.a,vn.a,H.m,hn.a,H.o,Tn.a,Cn.a,yn.a,_n.a,g.i,On.a],pipes:[H.b],styles:["[_nghost-%COMP%]     .ant-upload.ant-upload-drag .ant-upload{min-height:180px;padding:16px}[_nghost-%COMP%]     .ant-upload.ant-upload-drag p.ant-upload-drag-icon{margin-bottom:0}.import-settings[_ngcontent-%COMP%]{display:grid;gap:24px;max-width:40%;width:100%}.import-settings__practice[_ngcontent-%COMP%]{display:grid;grid-template-columns:-webkit-max-content 1fr;grid-template-columns:max-content 1fr;gap:16px;align-items:center}.import-settings__upload[_ngcontent-%COMP%]{position:relative}.import-settings__upload--disabled[_ngcontent-%COMP%]{opacity:.6}.import-settings__save[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.import-settings__save-btn[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-left:16px}.file-content[_ngcontent-%COMP%]{margin-top:24px}.uploader-preview[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.uploader-preview__wrapper[_ngcontent-%COMP%]{padding:8px;border:1px solid #d9d9d9;border-radius:2px}.uploader-preview__wrapper--error[_ngcontent-%COMP%]{color:#ff4d4f;border-color:#ff4d4f}.uploader-preview__item[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:8px}.uploader-preview__item__icon[_ngcontent-%COMP%]{display:inherit;justify-content:center;align-items:center;width:48px;height:48px;font-size:32px}.uploader-preview__item__remove[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:flex-end;width:100%;height:100%;background-color:rgba(0,0,0,.5);border-radius:2px;opacity:0;z-index:1;transition:all .3s}.uploader-preview__item__remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.8)}.uploader-preview__item__remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#ffffd9}.uploader-preview__item[_ngcontent-%COMP%]:hover   .uploader-preview__item__remove[_ngcontent-%COMP%]{opacity:1}"]}),kn),children:[{path:"patients",component:bn,data:{type:"patient"}},{path:"devices",component:ct,data:{type:"device"}},{path:"doctors",component:$t,data:{type:"doctor"}}]}],Mn=((Dn=function t(){c(this,t)}).\u0275mod=h.Mb({type:Dn}),Dn.\u0275inj=h.Lb({factory:function(t){return new(t||Dn)},imports:[[g.h.forChild(Hn)],g.h]}),Dn),Ln=i("S9na"),jn=((Sn=function t(){c(this,t)}).\u0275mod=h.Mb({type:Sn}),Sn.\u0275inj=h.Lb({factory:function(t){return new(t||Sn)},imports:[[m.a,Mn,y,Ln.a]]}),Sn)}}])}();