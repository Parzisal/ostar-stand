(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"02Pz":function(e,t,n){"use strict";n.r(t),n.d(t,"OrderListModule",function(){return k});var s=n("PCNd"),i=n("tyNb"),r=n("Pj3g"),a=n("4U9O"),c=n("1G5W"),o=n("Kuuk"),l=n("fXoL"),d=n("ILvI"),u=n("o5fV");let p=(()=>{class e{}return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)}}),e})(),b=(()=>{class e extends u.a{constructor(){super()}getOrderList(e){return this.getItems(e,d.s)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Kb({token:e,factory:e.\u0275fac,providedIn:p}),e})();var m=n("ofXK"),f=n("jPNr"),h=n("1ReC"),g=n("rMZv"),v=n("bYvm"),y=n("ZyQt"),O=n("OzZK"),C=n("C2AL"),z=n("pu9d");const I=function(e,t){return["/order-details",e,t]},L=function(e){return{order:e}};function j(e,t){if(1&e&&(l.Ub(0,"tr"),l.Ub(1,"td"),l.Hc(2),l.Tb(),l.Ub(3,"td"),l.Hc(4),l.Tb(),l.Ub(5,"td"),l.Hc(6),l.Tb(),l.Ub(7,"td"),l.Hc(8),l.fc(9,"deviceType"),l.Tb(),l.Ub(10,"td"),l.Pb(11,"app-address",4),l.Tb(),l.Ub(12,"td"),l.Hc(13),l.fc(14,"date"),l.Tb(),l.Ub(15,"td"),l.Hc(16),l.Tb(),l.Ub(17,"td",5),l.Ub(18,"nz-tag",6),l.Hc(19),l.Tb(),l.Tb(),l.Ub(20,"td",7),l.Ub(21,"a",8),l.Hc(22,"Details"),l.Tb(),l.Tb(),l.Tb()),2&e){const e=t.$implicit,n=l.ec();l.Ab(2),l.Ic(e.id),l.Ab(2),l.Ic(null==e.practice?null:e.practice.name),l.Ab(2),l.Lc("",e.patient.first_name," ",e.patient.middle_name," ",e.patient.last_name,""),l.Ab(2),l.Ic(l.gc(9,13,e.device_type)),l.Ab(3),l.mc("address",e.address),l.Ab(2),l.Ic(l.hc(14,15,e.ship_date,"short")),l.Ab(3),l.Ic(e.tracking_number),l.Ab(2),l.mc("nzColor",n.stateColors[e.state]),l.Ab(1),l.Ic(e.state),l.Ab(2),l.mc("routerLink",l.qc(18,I,e.id,e.device?"shipstation":"test-and-associate"))("state",l.pc(21,L,e))}}const T=[{path:"",component:(()=>{class e extends r.a{constructor(e,t){super(),this.orderListService=e,this.titleCasePipe=t,this.stateColors=o.a,this.displayColumns=[{name:"ID",filterKey:"ids",customFilter:"search",filter:!0,visible:!1},{name:"Practice",filterKey:"practice_name",customFilter:"search",filter:!0,visible:!1},{name:"Patient",filterKey:"patient_name",customFilter:"search",filter:!0,visible:!1},{name:"Device type",filterMultiple:!1,filterKey:"device_types",listOfFilter:[...Object.entries(a.a).map(e=>({text:e[1],value:e[0]}))],pipe:"deviceType",filter:!0,visible:!1},{name:"Address",filterKey:"address",customFilter:"search",filter:!0,visible:!1},{name:"Ship date",filterKey:"ship_date",customFilter:"date",sort:!0,sortOrder:null,filter:!0,visible:!1},{name:"Tracking number",filterKey:"tracking_number",customFilter:"search",filter:!0,visible:!1},{name:"State",filterMultiple:!1,filterKey:"states",listOfFilter:[...Object.keys(o.a).map(e=>({text:this.titleCasePipe.transform(e),value:e}))],filter:!0,visible:!1},{name:""}]}getOrders(e=this.params){return this.getItems(this.orderListService.getOrderList(e)).pipe(Object(c.a)(this.destroyed))}onQueryParamsChange(e){this.params=e,this.getOrders().subscribe()}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(b),l.Ob(m.y))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-order-list"]],features:[l.xb],decls:4,vars:6,consts:[[1,"panel"],["nzTitle","Order list",1,"page-header"],[3,"data","totalCount","isLoading$","pageIndex$","displayColumns","queryParamsChange"],[4,"ngFor","ngForOf"],[3,"address"],[1,"table-cell__state"],[3,"nzColor"],[1,"table-cell__actions"],["nz-button","","nzType","link","nzSize","small",3,"routerLink","state"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Pb(1,"nz-page-header",1),l.Ub(2,"app-table-wrapper",2),l.bc("queryParamsChange",function(e){return t.onQueryParamsChange(e)}),l.Fc(3,j,23,23,"tr",3),l.Tb(),l.Tb()),2&e&&(l.Ab(2),l.mc("data",t.items)("totalCount",t.totalCount)("isLoading$",t.isLoading$.asObservable())("pageIndex$",t.pageIndex$)("displayColumns",t.displayColumns),l.Ab(1),l.mc("ngForOf",t.items))},directives:[f.a,h.a,m.n,g.i,g.b,v.a,y.a,O.a,i.g,C.a],pipes:[z.a,m.e],styles:[""]}),e})()}];let P=(()=>{class e{}return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)},imports:[[i.h.forChild(T)],i.h]}),e})(),k=(()=>{class e{}return e.\u0275mod=l.Mb({type:e}),e.\u0275inj=l.Lb({factory:function(t){return new(t||e)},imports:[[s.a,P,p]]}),e})()},Pj3g:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var s=n("fXoL"),i=n("oaey"),r=n("nYR2"),a=n("1G5W"),c=n("lJxs"),o=n("2Vo4"),l=n("EY2u");class d extends i.a{constructor(){super(),this.isLoading$=new o.a(!0),this.pageIndex$=new s.n,this.params=null}stopLoading(){return this.isLoading$.next(!1),l.a}goToPrevPage(){return this.pageIndex$.emit(),l.a}getItems(e){return this.isLoading$.next(!0),e.pipe(Object(r.a)(()=>this.isLoading$.next(!1)),Object(a.a)(this.destroyed),Object(c.a)(e=>(this.items=e.items,this.totalCount=e.total_count,e)))}}},o5fV:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n("mrSG"),i=n("sbGu"),r=n("dEAy"),a=n("CvgI"),c=n("tk/3"),o=n("lJxs"),l=n("pLZG"),d=n("fXoL");let u=(()=>{class e{constructor(e){this.modal=e,this.modal.updateConfig({nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzAutofocus:null,nzOkType:"danger",nzOkText:"Delete",nzClosable:!1})}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(r.c))},e.\u0275cmp=d.Ib({type:e,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();class p{constructor(){const e=i.a.getInjector;this.http=e.get(c.c),this.modalService=e.get(r.d)}getItems(e,t,n){const s=Object(a.a)(e),i=Object.assign({params:s},n);return this.http.get(t,Object.assign({},i)).pipe(Object(o.a)(e=>e))}openModal(e,t=null,n,s=!0,i=600){return this.modalService.create(Object.assign(Object.assign({},s&&{nzWrapClassName:"vertical-center-modal"}),{nzTitle:e,nzWidth:i+"px",nzContent:n,nzComponentParams:Object.assign({},t)})).afterClose.pipe(Object(l.a)(e=>e))}openActionConfirmationModal(e,t){return this.modalService.confirm({nzContent:t,nzTitle:e,nzOnOk:()=>!0}).afterClose.pipe(Object(l.a)(e=>e))}deleteItem(e,t){return this.modalService.confirm({nzContent:u,nzTitle:e,nzOnOk:e=>Object(s.a)(this,void 0,void 0,function*(){return e.modal.config.nzOkLoading=!0,yield this.deleteItemRequest(t)})}).afterClose.pipe(Object(l.a)(e=>e))}deleteItemRequest(e){return Object(s.a)(this,void 0,void 0,function*(){return yield this.http.delete(e).toPromise().then(e=>"success"===e.status)})}}}}]);