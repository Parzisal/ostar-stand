!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"02Pz":function(e,n,a){"use strict";a.r(n),a.d(n,"OrderListModule",function(){return K});var c,s,l=a("PCNd"),f=a("tyNb"),p=a("Pj3g"),d=a("4U9O"),b=a("1G5W"),m=a("Kuuk"),h=a("fXoL"),v=a("ILvI"),y=a("o5fV"),g=((s=function t(){u(this,t)}).\u0275mod=h.Mb({type:s}),s.\u0275inj=h.Lb({factory:function(t){return new(t||s)}}),s),O=((c=function(t){i(n,t);var e=o(n);function n(){return u(this,n),e.call(this)}return r(n,[{key:"getOrderList",value:function(t){return this.getItems(t,v.s)}}]),n}(y.a)).\u0275fac=function(t){return new(t||c)},c.\u0275prov=h.Kb({token:c,factory:c.\u0275fac,providedIn:g}),c),C=a("ofXK"),j=a("jPNr"),k=a("1ReC"),w=a("rMZv"),z=a("bYvm"),I=a("ZyQt"),T=a("OzZK"),L=a("C2AL"),P=a("pu9d"),A=function(t,e){return["/order-details",t,e]},_=function(t){return{order:t}};function x(t,e){if(1&t&&(h.Ub(0,"tr"),h.Ub(1,"td"),h.Hc(2),h.Tb(),h.Ub(3,"td"),h.Hc(4),h.Tb(),h.Ub(5,"td"),h.Hc(6),h.Tb(),h.Ub(7,"td"),h.Hc(8),h.fc(9,"deviceType"),h.Tb(),h.Ub(10,"td"),h.Pb(11,"app-address",4),h.Tb(),h.Ub(12,"td"),h.Hc(13),h.fc(14,"date"),h.Tb(),h.Ub(15,"td"),h.Hc(16),h.Tb(),h.Ub(17,"td",5),h.Ub(18,"nz-tag",6),h.Hc(19),h.Tb(),h.Tb(),h.Ub(20,"td",7),h.Ub(21,"a",8),h.Hc(22,"Details"),h.Tb(),h.Tb(),h.Tb()),2&t){var n=e.$implicit,r=h.ec();h.Ab(2),h.Ic(n.id),h.Ab(2),h.Ic(null==n.practice?null:n.practice.name),h.Ab(2),h.Lc("",n.patient.first_name," ",n.patient.middle_name," ",n.patient.last_name,""),h.Ab(2),h.Ic(h.gc(9,13,n.device_type)),h.Ab(3),h.mc("address",n.address),h.Ab(2),h.Ic(h.hc(14,15,n.ship_date,"short")),h.Ab(3),h.Ic(n.tracking_number),h.Ab(2),h.mc("nzColor",r.stateColors[n.state]),h.Ab(1),h.Ic(n.state),h.Ab(2),h.mc("routerLink",h.qc(18,A,n.id,n.device?"shipstation":"test-and-associate"))("state",h.pc(21,_,n))}}var S,U,R,$=[{path:"",component:(S=function(e){i(a,e);var n=o(a);function a(e,r){var i;return u(this,a),(i=n.call(this)).orderListService=e,i.titleCasePipe=r,i.stateColors=m.a,i.displayColumns=[{name:"ID",filterKey:"ids",customFilter:"search",filter:!0,visible:!1},{name:"Practice",filterKey:"practice_name",customFilter:"search",filter:!0,visible:!1},{name:"Patient",filterKey:"patient_name",customFilter:"search",filter:!0,visible:!1},{name:"Device type",filterMultiple:!1,filterKey:"device_types",listOfFilter:t(Object.entries(d.a).map(function(t){return{text:t[1],value:t[0]}})),pipe:"deviceType",filter:!0,visible:!1},{name:"Address",filterKey:"address",customFilter:"search",filter:!0,visible:!1},{name:"Ship date",filterKey:"ship_date",customFilter:"date",sort:!0,sortOrder:null,filter:!0,visible:!1},{name:"Tracking number",filterKey:"tracking_number",customFilter:"search",filter:!0,visible:!1},{name:"State",filterMultiple:!1,filterKey:"states",listOfFilter:t(Object.keys(m.a).map(function(t){return{text:i.titleCasePipe.transform(t),value:t}})),filter:!0,visible:!1},{name:""}],i}return r(a,[{key:"getOrders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params;return this.getItems(this.orderListService.getOrderList(t)).pipe(Object(b.a)(this.destroyed))}},{key:"onQueryParamsChange",value:function(t){this.params=t,this.getOrders().subscribe()}}]),a}(p.a),S.\u0275fac=function(t){return new(t||S)(h.Ob(O),h.Ob(C.y))},S.\u0275cmp=h.Ib({type:S,selectors:[["app-order-list"]],features:[h.xb],decls:4,vars:6,consts:[[1,"panel"],["nzTitle","Order list",1,"page-header"],[3,"data","totalCount","isLoading$","pageIndex$","displayColumns","queryParamsChange"],[4,"ngFor","ngForOf"],[3,"address"],[1,"table-cell__state"],[3,"nzColor"],[1,"table-cell__actions"],["nz-button","","nzType","link","nzSize","small",3,"routerLink","state"]],template:function(t,e){1&t&&(h.Ub(0,"div",0),h.Pb(1,"nz-page-header",1),h.Ub(2,"app-table-wrapper",2),h.bc("queryParamsChange",function(t){return e.onQueryParamsChange(t)}),h.Fc(3,x,23,23,"tr",3),h.Tb(),h.Tb()),2&t&&(h.Ab(2),h.mc("data",e.items)("totalCount",e.totalCount)("isLoading$",e.isLoading$.asObservable())("pageIndex$",e.pageIndex$)("displayColumns",e.displayColumns),h.Ab(1),h.mc("ngForOf",e.items))},directives:[j.a,k.a,C.n,w.i,w.b,z.a,I.a,T.a,f.g,L.a],pipes:[P.a,C.e],styles:[""]}),S)}],F=((R=function t(){u(this,t)}).\u0275mod=h.Mb({type:R}),R.\u0275inj=h.Lb({factory:function(t){return new(t||R)},imports:[[f.h.forChild($)],f.h]}),R),K=((U=function t(){u(this,t)}).\u0275mod=h.Mb({type:U}),U.\u0275inj=h.Lb({factory:function(t){return new(t||U)},imports:[[l.a,F,g]]}),U)},Pj3g:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var a=n("fXoL"),c=n("oaey"),s=n("nYR2"),l=n("1G5W"),f=n("lJxs"),p=n("2Vo4"),d=n("EY2u"),b=function(t){i(n,t);var e=o(n);function n(){var t;return u(this,n),(t=e.call(this)).isLoading$=new p.a(!0),t.pageIndex$=new a.n,t.params=null,t}return r(n,[{key:"stopLoading",value:function(){return this.isLoading$.next(!1),d.a}},{key:"goToPrevPage",value:function(){return this.pageIndex$.emit(),d.a}},{key:"getItems",value:function(t){var e=this;return this.isLoading$.next(!0),t.pipe(Object(s.a)(function(){return e.isLoading$.next(!1)}),Object(l.a)(this.destroyed),Object(f.a)(function(t){return e.items=t.items,e.totalCount=t.total_count,t}))}}]),n}(c.a)},o5fV:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i,a=n("mrSG"),o=n("sbGu"),c=n("dEAy"),s=n("CvgI"),l=n("tk/3"),f=n("lJxs"),p=n("pLZG"),d=n("fXoL"),b=((i=function t(e){u(this,t),this.modal=e,this.modal.updateConfig({nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzAutofocus:null,nzOkType:"danger",nzOkText:"Delete",nzClosable:!1})}).\u0275fac=function(t){return new(t||i)(d.Ob(c.c))},i.\u0275cmp=d.Ib({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0}),i),m=function(){function t(){u(this,t);var e=o.a.getInjector;this.http=e.get(l.c),this.modalService=e.get(c.d)}return r(t,[{key:"getItems",value:function(t,e,n){var r=Object(s.a)(t),i=Object.assign({params:r},n);return this.http.get(e,Object.assign({},i)).pipe(Object(f.a)(function(t){return t}))}},{key:"openModal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;return this.modalService.create(Object.assign(Object.assign({},r&&{nzWrapClassName:"vertical-center-modal"}),{nzTitle:t,nzWidth:i+"px",nzContent:n,nzComponentParams:Object.assign({},e)})).afterClose.pipe(Object(p.a)(function(t){return t}))}},{key:"openActionConfirmationModal",value:function(t,e){return this.modalService.confirm({nzContent:e,nzTitle:t,nzOnOk:function(){return!0}}).afterClose.pipe(Object(p.a)(function(t){return t}))}},{key:"deleteItem",value:function(t,e){var n=this;return this.modalService.confirm({nzContent:b,nzTitle:t,nzOnOk:function(t){return Object(a.a)(n,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.modal.config.nzOkLoading=!0,n.next=3,this.deleteItemRequest(e);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}))}}).afterClose.pipe(Object(p.a)(function(t){return t}))}},{key:"deleteItemRequest",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.delete(t).toPromise().then(function(t){return"success"===t.status});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),t}()}}])}();